!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).spec=e()}}(function(){return function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return r(n||e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){"use strict";t.exports=e("./lib/bridge")},{"./lib/bridge":5}],2:[function(e,t,n){"use strict";function o(e,t){this.bids=[],this.dealer=e,t&&(t=t.split(" ").filter(function(e){return 0!==e.trim().length}),this.bid(t))}var r=e("./bid"),a=e("./contract");o.prototype.bid=function(e){var t,n,o=this;arguments.length>1&&(e=Array.prototype.slice.call(arguments));{if(!Array.isArray(e)){if(("string"==typeof e||e instanceof String)&&(e=r[e]),this.isClosed())throw new Error("Bidding not allowed, auction is closed");if(e.isPass);else if(e.isDouble){if(t=this.nextSeatToBid(),void 0===(n=this.contract()).declaror)throw new Error("Cannot double when opposition has no contract");if(n.declaror===t.partner)throw new Error("Doubling your partner is not allowed");if(""!==n.risk)throw new Error("Opposition is already at risk")}else if(e.isRedouble){if(t=this.nextSeatToBid(),"X"!==(n=this.contract()).risk||t!==n.declaror&&t.partner!==n.declaror)throw new Error("Invalid bid")}else if(this.bids.some(function(t){return t.order>e.order}))throw new Error("Insufficient bid");return this.bids.push(e),e}e.forEach(function(e){o.bid(e)})}},o.prototype.isClosed=function(){return!(this.bids.length<4)&&this.bids.slice(-3).every(function(e){return e===r.pass})},o.prototype.nextSeatToBid=function(){return this.isClosed()?null:this.bids.reduce(function(e){return e.next},this.dealer)},o.prototype.contract=function(){var e=this.dealer,t=this.bids.reduce(function(t,n){return n.isPass||(n.isDouble?t.risk="X":n.isRedouble?t.risk="XX":(t.risk="",t.level=n.level,t.denomination=n.denomination,t.declaror=e)),e=e.next,t},new a);if(t.declaror){e=this.dealer;for(var n=0;n<this.bids.length;n++){if(this.bids[n].denomination===t.denomination&&(e===t.declaror||e===t.declaror.partner)){t.declaror=e;break}e=e.next}}return t},o.prototype.toString=function(){return this.bids.reduce(function(e,t){return e+t.toString()+" "},"").trim()},t.exports=o},{"./bid":3,"./contract":8}],3:[function(e,t,n){"use strict";function o(e){this.level=+e.charAt(0)||void 0,this.denomination=this.level?e.substr(1):void 0,this.order=5*(this.level-1)+r[this.denomination],this.isDouble="X"===e,this.isRedouble="XX"===e,this.isPass="-"===e||"P"===e||"/"===e||"Pass"===e,this.isRed="H"===this.denomination||"D"===this.denomination,this.isBlack="S"===this.denomination||"C"===this.denomination}var r={C:1,D:2,H:3,S:4,NT:5};o.prototype.toString=function(){return this.isPass?"-":this.isDouble?"X":this.isRedouble?"XX":this.level+this.denomination};var a={"-":new o("-"),X:new o("X"),XX:new o("XX"),"1C":new o("1C"),"1D":new o("1D"),"1H":new o("1H"),"1S":new o("1S"),"1NT":new o("1NT"),"2C":new o("2C"),"2D":new o("2D"),"2H":new o("2H"),"2S":new o("2S"),"2NT":new o("2NT"),"3C":new o("3C"),"3D":new o("3D"),"3H":new o("3H"),"3S":new o("3S"),"3NT":new o("3NT"),"4C":new o("4C"),"4D":new o("4D"),"4H":new o("4H"),"4S":new o("4S"),"4NT":new o("4NT"),"5C":new o("5C"),"5D":new o("5D"),"5H":new o("5H"),"5S":new o("5S"),"5NT":new o("5NT"),"6C":new o("6C"),"6D":new o("6D"),"6H":new o("6H"),"6S":new o("6S"),"6NT":new o("6NT"),"7C":new o("7C"),"7D":new o("7D"),"7H":new o("7H"),"7S":new o("7S"),"7NT":new o("7NT")};a.Pass=a.pass=a["-"],a.Double=a.double=a.X,a.Redouble=a.redouble=a.XX,t.exports=a},{}],4:[function(e,t,n){"use strict";function o(){this.vulnerability=void 0,this.dealer=void 0,this.hands={},this.hands[r.north]=new a,this.hands[r.east]=new a,this.hands[r.south]=new a,this.hands[r.west]=new a,this.number=1}var r=e("./seat"),a=e("./hand"),i=e("./pbn"),s=[r.north,r.east,r.south,r.west],c=["Nil","NS","EW","All","NS","EW","All","Nil","EW","All","Nil","NS","All","Nil","NS","EW"];o.prototype.isVulnerable=function(e){return"Nil"!==this.vulnerability&&("All"===this.vulnerability||-1!==this.vulnerability.indexOf(e.symbol))},o.prototype.setNumber=function(e){return this.number=e,this.dealer=s[(e-1)%4],this.vulnerability=c[(e-1)%16],this},o.prototype.deal=function(e){return 0===arguments.length?i.exportDeal(this.hands,this.dealer):(this.hands=i.importDeal(e),this)},t.exports=o},{"./hand":11,"./pbn":12,"./seat":13}],5:[function(e,t,n){"use strict";var o=t.exports={};o.card=e("./card"),o.bid=e("./bid"),o.seat=e("./seat"),o.Competition=e("./competition"),o.Session=e("./session"),o.Contract=e("./contract"),o.Trick=e("./trick"),o.Deck=e("./deck"),o.Hand=e("./hand"),o.Auction=e("./auction"),o.Board=e("./board"),o.Game=e("./game"),o.pbn=e("./pbn")},{"./auction":2,"./bid":3,"./board":4,"./card":6,"./competition":7,"./contract":8,"./deck":9,"./game":10,"./hand":11,"./pbn":12,"./seat":13,"./session":14,"./trick":15}],6:[function(e,t,n){"use strict";function o(e,t){this.rank=e,this.suit=t,this.order=r[this.rank]+a[this.suit]}var r={2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,T:9,J:10,Q:11,K:12,A:13},a={C:0,D:13,H:26,S:39};o.prototype.toString=function(){return this.rank+this.suit},o.imagePath="cards/",o.prototype.imageUrl=function(){return o.imagePath+this.rank+this.suit+".svg"};var i={all:[],imagePath:function(e){o.imagePath=e}};for(var s in r)for(var c in a){var u=new o(s,c);i.all.push(u),i[s+c]=u,i[c+s]=u,"T"===s&&(i["10"+c]=u,i[c+"10"]=u)}t.exports=i},{}],7:[function(e,t,n){"use strict";function o(){this.name=""}t.exports=o},{}],8:[function(e,t,n){"use strict";function o(){this.risk="",this.level=0,this.denomination=void 0,this.declaror=void 0}o.prototype.toString=function(){return this.isPassedIn()?"-":this.level+this.denomination+this.risk+" by "+this.declaror.symbol},o.prototype.isPassedIn=function(){return 0===this.level},o.prototype.dummy=function(){return this.declaror?this.declaror.partner:void 0},o.prototype.leader=function(){return this.declaror?this.declaror.lho:void 0},o.prototype.isOpponent=function(e){return e!==this.declaror&&e!==this.dummy()},t.exports=o},{}],9:[function(e,t,n){"use strict";function o(){this.cards=r.all.slice()}var r=e("./card"),a=e("./seat"),i=e("./hand"),s=e("crypto-shuffle");o.prototype.shuffle=function(){return s(this.cards),this},o.prototype.deal=function(e){var t=e,n={};n[a.north]=new i,n[a.south]=new i,n[a.east]=new i,n[a.west]=new i;for(var o=0;o<this.cards.length;++o)n[t=t.next].cards.push(this.cards[o]);return n[a.north].sort(),n[a.south].sort(),n[a.east].sort(),n[a.west].sort(),n},t.exports=o},{"./card":6,"./hand":11,"./seat":13,"crypto-shuffle":55}],10:[function(e,t,n){"use strict";function o(){this.auction=new a,this.contract=new i,this.tricks=[],this.players={},this.made=void 0}var r=e("./bridge"),a=e("./auction"),i=e("./contract");o.prototype.lead=function(){if(0!==this.tricks.length)return this.tricks[0].lead()},o.prototype.play=function(e){var t,n,o=this;if(0===arguments.length){var a=[];return this.tricks.forEach(function(e){e.play.forEach(function(e){a.push(e.card)})}),a}if(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),Array.isArray(e)){var i;return e.forEach(function(e){i=o.play(e)}),i}return"string"==typeof e&&(e=r.card[e]),0===this.tricks.length?(t=new r.Trick,this.tricks.push(t),n=this.contract.leader()):4===(t=this.tricks[this.tricks.length-1]).play.length?(n=t.winner(this.contract),t=new r.Trick,this.tricks.push(t)):n=t.play[t.play.length-1].seat.next,t.play.push({seat:n,card:e}),4===t.play.length?t.winner(this.contract):n.next},t.exports=o},{"./auction":2,"./bridge":5,"./contract":8}],11:[function(e,t,n){"use strict";function o(){this.cards=[],this.facts=[]}var r=e("./card");o.prototype.sort=function(){return this.cards.sort(function(e,t){return t.order-e.order}),this},o.prototype.cardsWithSuit=function(e){return this.cards.filter(function(t){return t.suit===e})},o.prototype.toString=function(){var e,t="";for(e=0;e<this.cards.length;++e)0!==e&&(t+=" "),t+=this.cards[e].toString();return t};var a={S:"H",H:"D",D:"C",C:null};o.prototype.toPBN=function(){if(0===this.cards.length)return"-";var e,t="",n="S";for(this.sort(),e=0;e<this.cards.length;++e){for(var o=this.cards[e];o.suit!==n;)t+=".",n=a[n];t+=o.rank}for(;null!==a[n];)t+=".",n=a[n];return t},o.parsePBN=function(e){var t=new o;if("-"===e)return t;if(4!==e.split(".").length)throw new Error("All four suits must be declared.");var n,i,s="S";for(i=0;i<e.length;++i)"."===(n=e[i])?s=a[s]:t.cards.push(r[n+s]);return t},o.prototype.hcp=function(){var e={A:4,K:3,Q:2,J:1};return this.cards.reduce(function(t,n){return t+(e[n.rank]||0)},0)},t.exports=o},{"./card":6}],12:[function(e,t,n){"use strict";function o(e){var t,n={},o=a[e[0]],r=e.slice(2).split(" ");for(t=0;t<4;++t)n[o]=i.parsePBN(r[t]),o=o.next;return n}function r(e,t){var n,o=(t=t||a.south).symbol+":";for(n=0;n<4;++n)0!==n&&(o+=" "),o+=e[t].toPBN(),t=t.next;return o}var a=e("./seat"),i=e("./hand");t.exports={importDeal:o,exportDeal:r}},{"./hand":11,"./seat":13}],13:[function(e,t,n){"use strict";function o(){this.symbol=""}o.prototype.toString=function(){return this.name};var r={north:new o,east:new o,south:new o,west:new o};r.north.symbol="N",r.north.name="north",r.north.partner=r.south,r.north.rho=r.west,r.north.lho=r.east,r.north.next=r.east,r.south.symbol="S",r.south.name="south",r.south.partner=r.north,r.south.rho=r.east,r.south.lho=r.west,r.south.next=r.west,r.east.symbol="E",r.east.name="east",r.east.partner=r.west,r.east.rho=r.north,r.east.lho=r.south,r.east.next=r.south,r.west.symbol="W",r.west.name="west",r.west.partner=r.east,r.west.rho=r.south,r.west.lho=r.north,r.west.next=r.north,r.N=r.north,r.S=r.south,r.E=r.east,r.W=r.west,r.distance=function(e,t){return e===t?0:e.lho===t?1:e.partner===t?2:3},t.exports=r},{}],14:[function(e,t,n){"use strict";function o(){this.competition=new r.Competition,this.site="",this.date="",this.boards=[],this.games=[]}var r=e("./bridge"),a=e("pbn"),i=e("stream").Readable;o.generateBoards=function(e){for(var t=new o,n=1;n<=e;++n){var a=new r.Board;a.setNumber(n),a.hands=(new r.Deck).shuffle().deal(a.dealer),t.boards.push(a)}return t},o.importPbn=function(e,t){function n(){return s||((s=new r.Game).board=c,s.auction.dealer=c.dealer,u.games.push(s)),s}if(!t)return new Promise(function(t,n){o.importPbn(e,function(e,o){e?n(e):t(o)})});var s,c,u=new o,l={None:"Nil",Love:"Nil","-":"Nil",All:"All",Both:"All",NS:"NS",EW:"EW"};if("string"==typeof e){var d=e;(e=new i).push(d),e.push(null)}e.pipe(a()).on("error",function(e){t(e)}).on("end",function(){t(null,u)}).on("data",function(e){if("game"===e.type)s=c=null;else if("tag"===e.type&&""!==e.value&&"?"!==e.value)if("Event"===e.name)u.competition.name=e.value;else if("Site"===e.name)u.site=e.value;else if("Date"===e.name)u.date=e.value;else if("Board"===e.name){var t=parseInt(e.value,10);(c=u.boards.find(function(e){return e.number===t}))||((c=new r.Board).setNumber(t),u.boards.push(c)),s&&(s.board=c)}else if("West"===e.name)n().players[r.seat.west]=e.value;else if("North"===e.name)n().players[r.seat.north]=e.value;else if("East"===e.name)n().players[r.seat.east]=e.value;else if("South"===e.name)n().players[r.seat.south]=e.value;else if("Dealer"===e.name)c.dealer=r.seat[e.value],s&&(s.auction.dealer=c.dealer);else if("Vulnerable"===e.name)c.vulnerability=l[e.value];else if("Deal"===e.name)c.deal(e.value);else if("Scoring"===e.name);else if("Declarer"===e.name)n().contract.declaror=r.seat[e.value];else if("Contract"===e.name)n(),s.contract.level=e.level,s.contract.denomination=e.denomination,s.contract.risk=e.risk;else if("Result"===e.name){var o=parseInt(e.value,10),a=n().contract,i=o>=a.level+6?o-6:o-(a.level+6);s.made=i}else if("Auction"===e.name){var d=n().auction;e.tokens.forEach(function(e){if("AP"===e)for(;!d.isClosed();)d.bid("Pass");else"-"===e||"*"===e||e.startsWith("=")||d.bid(e)})}else if("Play"===e.name){var h=n().tricks,p=new r.Trick;h.push(p);var f=r.seat[e.value],b=f;e.tokens.forEach(function(e){"-"===e||"*"===e?f=f.next:e.startsWith("=")||(4===p.play.length&&(b=p.winner(s.contract),p=new r.Trick,h.push(p)),p.play.push({seat:f,card:r.card[e]}),p.play.sort(function(e,t){return r.seat.distance(b,e.seat)-r.seat.distance(b,t.seat)}),f=f.next)})}})},t.exports=o},{"./bridge":5,pbn:18,stream:18}],15:[function(e,t,n){"use strict";function o(){this.play=[]}o.prototype.card=function(e){for(var t=0;t<this.play.length;++t)if(e===this.play[t].seat)return this.play[t].card},o.prototype.leader=function(){return this.play.length<1?void 0:this.play[0].seat},o.prototype.leaderSuit=function(){return this.play.length<1?void 0:this.play[0].card.suit},o.prototype.lead=function(){return this.play.length<1?void 0:this.play[0].card},o.prototype.winner=function(e){if(!(this.play.length<4)){for(var t,n,o,r=-1e4,a=this.leaderSuit(),i=0;i<4;++i){if(t=this.play[i],o=t.card.order,t.card.suit===e.denomination)o*=1e3;else if(t.card.suit!==a)continue;o>r&&(r=o,n=t.seat)}return n}},t.exports=o},{}],16:[function(e,t,n){function o(){function e(e,n){Object.keys(n).forEach(function(o){~t.indexOf(o)||(e[o]=n[o])})}var t=[].slice.call(arguments);return function(){for(var t=[].slice.call(arguments),n=0,o={};n<t.length;n++)e(o,t[n]);return o}}function r(e,t,n){var r=o("name","message","stack","constructor","toJSON")(t||{});this.message=e||"Unspecified AssertionError",this.showDiff=!1;for(var a in r)this[a]=r[a];if((n=n||arguments.callee)&&Error.captureStackTrace)Error.captureStackTrace(this,n);else try{throw new Error}catch(e){this.stack=e.stack}}t.exports=r,r.prototype=Object.create(Error.prototype),r.prototype.name="AssertionError",r.prototype.constructor=r,r.prototype.toJSON=function(e){var t=o("constructor","toJSON","stack")({name:this.name},this);return!1!==e&&this.stack&&(t.stack=this.stack),t}},{}],17:[function(e,t,n){},{}],18:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],19:[function(e,t,n){t.exports=e("./lib/chai")},{"./lib/chai":20}],20:[function(e,t,n){var o=[];n.version="4.0.2",n.AssertionError=e("assertion-error");var r=e("./chai/utils");n.use=function(e){return~o.indexOf(e)||(e(n,r),o.push(e)),n},n.util=r;var a=e("./chai/config");n.config=a;var i=e("./chai/assertion");n.use(i);var s=e("./chai/core/assertions");n.use(s);var c=e("./chai/interface/expect");n.use(c);var u=e("./chai/interface/should");n.use(u);var l=e("./chai/interface/assert");n.use(l)},{"./chai/assertion":21,"./chai/config":22,"./chai/core/assertions":23,"./chai/interface/assert":24,"./chai/interface/expect":25,"./chai/interface/should":26,"./chai/utils":40,"assertion-error":16}],21:[function(e,t,n){var o=e("./config");t.exports=function(e,t){function n(e,o,r,i){return a(this,"ssfi",r||n),a(this,"lockSsfi",i),a(this,"object",e),a(this,"message",o),t.proxify(this)}var r=e.AssertionError,a=t.flag;e.Assertion=n,Object.defineProperty(n,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),o.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),o.includeStack=e}}),Object.defineProperty(n,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),o.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),o.showDiff=e}}),n.addProperty=function(e,n){t.addProperty(this.prototype,e,n)},n.addMethod=function(e,n){t.addMethod(this.prototype,e,n)},n.addChainableMethod=function(e,n,o){t.addChainableMethod(this.prototype,e,n,o)},n.overwriteProperty=function(e,n){t.overwriteProperty(this.prototype,e,n)},n.overwriteMethod=function(e,n){t.overwriteMethod(this.prototype,e,n)},n.overwriteChainableMethod=function(e,n,o){t.overwriteChainableMethod(this.prototype,e,n,o)},n.prototype.assert=function(e,n,i,s,c,u){var l=t.test(this,arguments);if(!1!==u&&(u=!0),void 0===s&&void 0===c&&(u=!1),!0!==o.showDiff&&(u=!1),!l){n=t.getMessage(this,arguments);var d=t.getActual(this,arguments);throw new r(n,{actual:d,expected:s,showDiff:u},o.includeStack?this.assert:a(this,"ssfi"))}},Object.defineProperty(n.prototype,"_obj",{get:function(){return a(this,"object")},set:function(e){a(this,"object",e)}})}},{"./config":22}],22:[function(e,t,n){t.exports={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","inspect","toJSON"]}},{}],23:[function(e,t,n){t.exports=function(e,t){function n(e,n){n&&E(this,"message",n),e=e.toLowerCase();var o=E(this,"object"),r=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";this.assert(e===t.type(o).toLowerCase(),"expected #{this} to be "+r+e,"expected #{this} not to be "+r+e)}function o(){E(this,"contains",!0)}function r(e,n){return e.some(function(e){return t.eql(e,n)})}function a(e,n){n&&E(this,"message",n),t.expectTypes(this,["array","object","string"],E(this,"ssfi"));var o=E(this,"object"),a=t.type(o).toLowerCase(),i=E(this,"deep"),s=i?"deep ":"";if("object"!==a)this.assert("string"!==a&&i?r(o,e):~o.indexOf(e),"expected #{this} to "+s+"include "+t.inspect(e),"expected #{this} to not "+s+"include "+t.inspect(e));else{var c=Object.keys(e),u=E(this,"negate"),l=null,d=0;if(c.forEach(function(n){var r=new C(o);if(t.transferFlags(this,r,!0),E(r,"lockSsfi",!0),u&&1!==c.length)try{r.property(n,e[n])}catch(e){if(!t.checkError.compatibleConstructor(e,j))throw e;null===l&&(l=e),d++}else r.property(n,e[n])},this),u&&c.length>1&&d===c.length)throw l}}function i(){var e=E(this,"object"),n=t.type(e);this.assert("Arguments"===n,"expected #{this} to be arguments but got "+n,"expected #{this} to not be arguments")}function s(e,t){t&&E(this,"message",t);var n=E(this,"object");if(E(this,"deep"))return this.eql(e);this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function c(e,n){n&&E(this,"message",n),this.assert(t.eql(e,E(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function u(e,t){t&&E(this,"message",t);var n=E(this,"object"),o=E(this,"doLength"),r=E(this,"message"),a=E(this,"ssfi");if(o?new C(n,r,a,!0).to.have.property("length"):new C(n,r,a,!0).is.a("number"),"number"!=typeof e)throw r=r?r+": ":"",new j(r+"the argument to above must be a number",void 0,a);if(o){var i=n.length;this.assert(i>e,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",e,i)}else this.assert(n>e,"expected #{this} to be above "+e,"expected #{this} to be at most "+e)}function l(e,t){t&&E(this,"message",t);var n=E(this,"object"),o=E(this,"doLength"),r=E(this,"message"),a=E(this,"ssfi");if(o?new C(n,r,a,!0).to.have.property("length"):new C(n,r,a,!0).is.a("number"),"number"!=typeof e)throw r=r?r+": ":"",new j(r+"the argument to least must be a number",void 0,a);if(o){var i=n.length;this.assert(i>=e,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",e,i)}else this.assert(n>=e,"expected #{this} to be at least "+e,"expected #{this} to be below "+e)}function d(e,t){t&&E(this,"message",t);var n=E(this,"object"),o=E(this,"doLength"),r=E(this,"message"),a=E(this,"ssfi");if(o?new C(n,r,a,!0).to.have.property("length"):new C(n,r,a,!0).is.a("number"),"number"!=typeof e)throw r=r?r+": ":"",new j(r+"the argument to below must be a number",void 0,a);if(o){var i=n.length;this.assert(i<e,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",e,i)}else this.assert(n<e,"expected #{this} to be below "+e,"expected #{this} to be at least "+e)}function h(e,t){t&&E(this,"message",t);var n=E(this,"object"),o=E(this,"doLength"),r=E(this,"message"),a=E(this,"ssfi");if(o?new C(n,r,a,!0).to.have.property("length"):new C(n,r,a,!0).is.a("number"),"number"!=typeof e)throw r=r?r+": ":"",new j(r+"the argument to most must be a number",void 0,a);if(o){var i=n.length;this.assert(i<=e,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",e,i)}else this.assert(n<=e,"expected #{this} to be at most "+e,"expected #{this} to be above "+e)}function p(e,n){n&&E(this,"message",n);var o=E(this,"object"),r=E(this,"ssfi"),a=E(this,"message");if(!(e===Object(e)&&("function"==typeof e||"undefined"!=typeof Symbol&&void 0!==Symbol.hasInstance&&Symbol.hasInstance in e)))throw new j((a=a?a+": ":"")+"The instanceof assertion needs a constructor but "+(null===e?"null":typeof e)+" was given.",void 0,r);var i=o instanceof e,s=t.getName(e);null===s&&(s="an unnamed constructor"),this.assert(i,"expected #{this} to be an instance of "+s,"expected #{this} to not be an instance of "+s)}function f(e,n,o){o&&E(this,"message",o);var r=E(this,"nested"),a=E(this,"own"),i=E(this,"message"),s=E(this,"ssfi");if(r&&a)throw i=i?i+": ":"",new j(i+'The "nested" and "own" flags cannot be combined.',void 0,s);var c=E(this,"deep"),u=E(this,"negate"),l=E(this,"object"),d=r?t.getPathInfo(l,e):null,h=r?d.value:l[e],p="";c&&(p+="deep "),a&&(p+="own "),r&&(p+="nested "),p+="property ";var f;f=a?Object.prototype.hasOwnProperty.call(l,e):r?d.exists:t.hasProperty(l,e),u&&1!==arguments.length||this.assert(f,"expected #{this} to have "+p+t.inspect(e),"expected #{this} to not have "+p+t.inspect(e)),arguments.length>1&&this.assert(f&&(c?t.eql(n,h):n===h),"expected #{this} to have "+p+t.inspect(e)+" of #{exp}, but got #{act}","expected #{this} to not have "+p+t.inspect(e)+" of #{act}",n,h),E(this,"object",h)}function b(e,t,n){E(this,"own",!0),f.apply(this,arguments)}function y(e,n,o){"string"==typeof n&&(o=n,n=null),o&&E(this,"message",o);var r=E(this,"object"),a=Object.getOwnPropertyDescriptor(Object(r),e);a&&n?this.assert(t.eql(n,a),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to match "+t.inspect(n)+", got "+t.inspect(a),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to not match "+t.inspect(n),n,a,!0):this.assert(a,"expected #{this} to have an own property descriptor for "+t.inspect(e),"expected #{this} to not have an own property descriptor for "+t.inspect(e)),E(this,"object",a)}function w(){E(this,"doLength",!0)}function v(e,t){t&&E(this,"message",t);var n=E(this,"object"),o=E(this,"message"),r=E(this,"ssfi");new C(n,o,r,!0).to.have.property("length");var a=n.length;this.assert(a==e,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",e,a)}function g(e,t){t&&E(this,"message",t);var n=E(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}function m(e){var n,o=E(this,"object"),r=t.type(o),a=t.type(e),i=E(this,"ssfi"),s=E(this,"deep"),c="",u=!0,l=E(this,"message"),d=(l=l?l+": ":"")+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if("Map"===r||"Set"===r)c=s?"deeply ":"",h=[],o.forEach(function(e,t){h.push(t)}),"Array"!==a&&(e=Array.prototype.slice.call(arguments));else{switch(h=t.getOwnEnumerableProperties(o),a){case"Array":if(arguments.length>1)throw new j(d,void 0,i);break;case"Object":if(arguments.length>1)throw new j(d,void 0,i);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}e=e.map(function(e){return"symbol"==typeof e?e:String(e)})}if(!e.length)throw new j(l+"keys required",void 0,i);var h,p=e.length,f=E(this,"any"),b=E(this,"all"),y=e;if(f||b||(b=!0),f&&(u=y.some(function(e){return h.some(function(n){return s?t.eql(e,n):e===n})})),b&&(u=y.every(function(e){return h.some(function(n){return s?t.eql(e,n):e===n})}),E(this,"contains")||(u=u&&e.length==h.length)),p>1){var w=(e=e.map(function(e){return t.inspect(e)})).pop();b&&(n=e.join(", ")+", and "+w),f&&(n=e.join(", ")+", or "+w)}else n=t.inspect(e[0]);n=(p>1?"keys ":"key ")+n,n=(E(this,"contains")?"contain ":"have ")+n,this.assert(u,"expected #{this} to "+c+n,"expected #{this} to not "+c+n,y.slice(0).sort(t.compareByInspect),h.sort(t.compareByInspect),!0)}function S(e,n,o){o&&E(this,"message",o);var r=E(this,"object"),a=E(this,"ssfi"),i=E(this,"message"),s=E(this,"negate")||!1;new C(r,i,a,!0).is.a("function"),(e instanceof RegExp||"string"==typeof e)&&(n=e,e=null);var c;try{r()}catch(e){c=e}var u=void 0===e&&void 0===n,l=Boolean(e&&n),d=!1,h=!1;if(u||!u&&!s){var p="an error";e instanceof Error?p="#{exp}":e&&(p=t.checkError.getConstructorName(e)),this.assert(c,"expected #{this} to throw "+p,"expected #{this} to not throw an error but #{act} was thrown",e&&e.toString(),c instanceof Error?c.toString():"string"==typeof c?c:c&&t.checkError.getConstructorName(c))}if(e&&c&&(e instanceof Error&&t.checkError.compatibleInstance(c,e)===s&&(l&&s?d=!0:this.assert(s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(c&&!s?" but #{act} was thrown":""),e.toString(),c.toString())),t.checkError.compatibleConstructor(c,e)===s&&(l&&s?d=!0:this.assert(s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(c?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&t.checkError.getConstructorName(e),c instanceof Error?c.toString():c&&t.checkError.getConstructorName(c)))),c&&void 0!==n&&null!==n){var f="including";n instanceof RegExp&&(f="matching"),t.checkError.compatibleMessage(c,n)===s&&(l&&s?h=!0:this.assert(s,"expected #{this} to throw error "+f+" #{exp} but got #{act}","expected #{this} to throw error not "+f+" #{exp}",n,t.checkError.getMessage(c)))}d&&h&&this.assert(s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(c?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&t.checkError.getConstructorName(e),c instanceof Error?c.toString():c&&t.checkError.getConstructorName(c)),E(this,"object",c)}function x(e,n){n&&E(this,"message",n);var o=E(this,"object"),r=E(this,"itself"),a="function"!=typeof o||r?o[e]:o.prototype[e];this.assert("function"==typeof a,"expected #{this} to respond to "+t.inspect(e),"expected #{this} to not respond to "+t.inspect(e))}function N(e,n){n&&E(this,"message",n);var o=e(E(this,"object"));this.assert(o,"expected #{this} to satisfy "+t.objDisplay(e),"expected #{this} to not satisfy"+t.objDisplay(e),!E(this,"negate"),o)}function q(e,t,n){n&&E(this,"message",n);var o=E(this,"object"),r=E(this,"message"),a=E(this,"ssfi");if(new C(o,r,a,!0).is.a("number"),"number"!=typeof e||"number"!=typeof t)throw r=r?r+": ":"",new j(r+"the arguments to closeTo or approximately must be numbers",void 0,a);this.assert(Math.abs(o-e)<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}function A(e,t,n,o,r){if(!o){if(e.length!==t.length)return!1;t=t.slice()}return e.every(function(e,a){if(r)return n?n(e,t[a]):e===t[a];if(!n){var i=t.indexOf(e);return-1!==i&&(o||t.splice(i,1),!0)}return t.some(function(r,a){return!!n(e,r)&&(o||t.splice(a,1),!0)})})}function O(e,t){t&&E(this,"message",t);var n=E(this,"object"),o=E(this,"message"),r=E(this,"ssfi");new C(e,o,r,!0).to.be.an("array"),this.assert(e.indexOf(n)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",e,n)}function P(e,t,n){n&&E(this,"message",n);var o=E(this,"object"),r=E(this,"message"),a=E(this,"ssfi");new C(o,r,a,!0).is.a("function");var i;t?(new C(e,r,a,!0).to.have.property(t),i=e[t]):(new C(e,r,a,!0).is.a("function"),i=e()),o();var s=void 0===t||null===t?e():e[t],c=void 0===t||null===t?i:"."+t;E(this,"deltaMsgObj",c),E(this,"initialDeltaValue",i),E(this,"finalDeltaValue",s),E(this,"deltaBehavior","change"),E(this,"realDelta",s!==i),this.assert(i!==s,"expected "+c+" to change","expected "+c+" to not change")}function k(e,t,n){n&&E(this,"message",n);var o=E(this,"object"),r=E(this,"message"),a=E(this,"ssfi");new C(o,r,a,!0).is.a("function");var i;t?(new C(e,r,a,!0).to.have.property(t),i=e[t]):(new C(e,r,a,!0).is.a("function"),i=e()),new C(i,r,a,!0).is.a("number"),o();var s=void 0===t||null===t?e():e[t],c=void 0===t||null===t?i:"."+t;E(this,"deltaMsgObj",c),E(this,"initialDeltaValue",i),E(this,"finalDeltaValue",s),E(this,"deltaBehavior","increase"),E(this,"realDelta",s-i),this.assert(s-i>0,"expected "+c+" to increase","expected "+c+" to not increase")}function T(e,t,n){n&&E(this,"message",n);var o=E(this,"object"),r=E(this,"message"),a=E(this,"ssfi");new C(o,r,a,!0).is.a("function");var i;t?(new C(e,r,a,!0).to.have.property(t),i=e[t]):(new C(e,r,a,!0).is.a("function"),i=e()),new C(i,r,a,!0).is.a("number"),o();var s=void 0===t||null===t?e():e[t],c=void 0===t||null===t?i:"."+t;E(this,"deltaMsgObj",c),E(this,"initialDeltaValue",i),E(this,"finalDeltaValue",s),E(this,"deltaBehavior","decrease"),E(this,"realDelta",i-s),this.assert(s-i<0,"expected "+c+" to decrease","expected "+c+" to not decrease")}function D(e,t){t&&E(this,"message",t);var n,o=E(this,"deltaMsgObj"),r=E(this,"initialDeltaValue"),a=E(this,"finalDeltaValue"),i=E(this,"deltaBehavior"),s=E(this,"realDelta");n="change"===i?Math.abs(a-r)===Math.abs(e):s===Math.abs(e),this.assert(n,"expected "+o+" to "+i+" by "+e,"expected "+o+" to not "+i+" by "+e)}var C=e.Assertion,j=e.AssertionError,E=t.flag;["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does"].forEach(function(e){C.addProperty(e)}),C.addProperty("not",function(){E(this,"negate",!0)}),C.addProperty("deep",function(){E(this,"deep",!0)}),C.addProperty("nested",function(){E(this,"nested",!0)}),C.addProperty("own",function(){E(this,"own",!0)}),C.addProperty("ordered",function(){E(this,"ordered",!0)}),C.addProperty("any",function(){E(this,"any",!0),E(this,"all",!1)}),C.addProperty("all",function(){E(this,"all",!0),E(this,"any",!1)}),C.addChainableMethod("an",n),C.addChainableMethod("a",n),C.addChainableMethod("include",a,o),C.addChainableMethod("contain",a,o),C.addChainableMethod("contains",a,o),C.addChainableMethod("includes",a,o),C.addProperty("ok",function(){this.assert(E(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),C.addProperty("true",function(){this.assert(!0===E(this,"object"),"expected #{this} to be true","expected #{this} to be false",!E(this,"negate"))}),C.addProperty("false",function(){this.assert(!1===E(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!E(this,"negate"))}),C.addProperty("null",function(){this.assert(null===E(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),C.addProperty("undefined",function(){this.assert(void 0===E(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),C.addProperty("NaN",function(){this.assert(t.isNaN(E(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),C.addProperty("exist",function(){var e=E(this,"object");this.assert(null!==e&&void 0!==e,"expected #{this} to exist","expected #{this} to not exist")}),C.addProperty("empty",function(){var e,n=E(this,"object"),o=E(this,"ssfi"),r=E(this,"message");switch(r=r?r+": ":"",t.type(n).toLowerCase()){case"array":case"string":e=n.length;break;case"map":case"set":e=n.size;break;case"weakmap":case"weakset":throw new j(r+".empty was passed a weak collection",void 0,o);case"function":var a=r+".empty was passed a function "+t.getName(n);throw new j(a.trim(),void 0,o);default:if(n!==Object(n))throw new j(r+".empty was passed non-string primitive "+t.inspect(n),void 0,o);e=Object.keys(n).length}this.assert(0===e,"expected #{this} to be empty","expected #{this} not to be empty")}),C.addProperty("arguments",i),C.addProperty("Arguments",i),C.addMethod("equal",s),C.addMethod("equals",s),C.addMethod("eq",s),C.addMethod("eql",c),C.addMethod("eqls",c),C.addMethod("above",u),C.addMethod("gt",u),C.addMethod("greaterThan",u),C.addMethod("least",l),C.addMethod("gte",l),C.addMethod("below",d),C.addMethod("lt",d),C.addMethod("lessThan",d),C.addMethod("most",h),C.addMethod("lte",h),C.addMethod("within",function(e,t,n){n&&E(this,"message",n);var o=E(this,"object"),r=e+".."+t,a=E(this,"doLength"),i=E(this,"message"),s=E(this,"ssfi");if(a?new C(o,i,s,!0).to.have.property("length"):new C(o,i,s,!0).is.a("number"),"number"!=typeof e||"number"!=typeof t)throw i=i?i+": ":"",new j(i+"the arguments to within must be numbers",void 0,s);if(a){var c=o.length;this.assert(c>=e&&c<=t,"expected #{this} to have a length within "+r,"expected #{this} to not have a length within "+r)}else this.assert(o>=e&&o<=t,"expected #{this} to be within "+r,"expected #{this} to not be within "+r)}),C.addMethod("instanceof",p),C.addMethod("instanceOf",p),C.addMethod("property",f),C.addMethod("ownProperty",b),C.addMethod("haveOwnProperty",b),C.addMethod("ownPropertyDescriptor",y),C.addMethod("haveOwnPropertyDescriptor",y),C.addChainableMethod("length",v,w),C.addChainableMethod("lengthOf",v,w),C.addMethod("match",g),C.addMethod("matches",g),C.addMethod("string",function(e,n){n&&E(this,"message",n);var o=E(this,"object"),r=E(this,"message"),a=E(this,"ssfi");new C(o,r,a,!0).is.a("string"),this.assert(~o.indexOf(e),"expected #{this} to contain "+t.inspect(e),"expected #{this} to not contain "+t.inspect(e))}),C.addMethod("keys",m),C.addMethod("key",m),C.addMethod("throw",S),C.addMethod("throws",S),C.addMethod("Throw",S),C.addMethod("respondTo",x),C.addMethod("respondsTo",x),C.addProperty("itself",function(){E(this,"itself",!0)}),C.addMethod("satisfy",N),C.addMethod("satisfies",N),C.addMethod("closeTo",q),C.addMethod("approximately",q),C.addMethod("members",function(e,n){n&&E(this,"message",n);var o=E(this,"object"),r=E(this,"message"),a=E(this,"ssfi");new C(o,r,a,!0).to.be.an("array"),new C(e,r,a,!0).to.be.an("array");var i,s,c,u=E(this,"contains"),l=E(this,"ordered");u?(s="expected #{this} to be "+(i=l?"an ordered superset":"a superset")+" of #{exp}",c="expected #{this} to not be "+i+" of #{exp}"):(s="expected #{this} to have the same "+(i=l?"ordered members":"members")+" as #{exp}",c="expected #{this} to not have the same "+i+" as #{exp}");var d=E(this,"deep")?t.eql:void 0;this.assert(A(e,o,d,u,l),s,c,e,o,!0)}),C.addMethod("oneOf",O),C.addMethod("change",P),C.addMethod("changes",P),C.addMethod("increase",k),C.addMethod("increases",k),C.addMethod("decrease",T),C.addMethod("decreases",T),C.addMethod("by",D),C.addProperty("extensible",function(){var e=E(this,"object"),t=e===Object(e)&&Object.isExtensible(e);this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")}),C.addProperty("sealed",function(){var e=E(this,"object"),t=e!==Object(e)||Object.isSealed(e);this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")}),C.addProperty("frozen",function(){var e=E(this,"object"),t=e!==Object(e)||Object.isFrozen(e);this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")}),C.addProperty("finite",function(e){var t=E(this,"object");this.assert("number"==typeof t&&isFinite(t),"expected #{this} to be a finite number","expected #{this} to not be a finite number")})}},{}],24:[function(e,t,n){t.exports=function(e,t){var n=e.Assertion,o=t.flag,r=e.assert=function(t,o){new n(null,null,e.assert,!0).assert(t,o,"[ negation message unavailable ]")};r.fail=function(t,n,o,a){throw o=o||"assert.fail()",new e.AssertionError(o,{actual:t,expected:n,operator:a},r.fail)},r.isOk=function(e,t){new n(e,t,r.isOk,!0).is.ok},r.isNotOk=function(e,t){new n(e,t,r.isNotOk,!0).is.not.ok},r.equal=function(e,t,a){var i=new n(e,a,r.equal,!0);i.assert(t==o(i,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e,!0)},r.notEqual=function(e,t,a){var i=new n(e,a,r.notEqual,!0);i.assert(t!=o(i,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e,!0)},r.strictEqual=function(e,t,o){new n(e,o,r.strictEqual,!0).to.equal(t)},r.notStrictEqual=function(e,t,o){new n(e,o,r.notStrictEqual,!0).to.not.equal(t)},r.deepEqual=r.deepStrictEqual=function(e,t,o){new n(e,o,r.deepEqual,!0).to.eql(t)},r.notDeepEqual=function(e,t,o){new n(e,o,r.notDeepEqual,!0).to.not.eql(t)},r.isAbove=function(e,t,o){new n(e,o,r.isAbove,!0).to.be.above(t)},r.isAtLeast=function(e,t,o){new n(e,o,r.isAtLeast,!0).to.be.least(t)},r.isBelow=function(e,t,o){new n(e,o,r.isBelow,!0).to.be.below(t)},r.isAtMost=function(e,t,o){new n(e,o,r.isAtMost,!0).to.be.most(t)},r.isTrue=function(e,t){new n(e,t,r.isTrue,!0).is.true},r.isNotTrue=function(e,t){new n(e,t,r.isNotTrue,!0).to.not.equal(!0)},r.isFalse=function(e,t){new n(e,t,r.isFalse,!0).is.false},r.isNotFalse=function(e,t){new n(e,t,r.isNotFalse,!0).to.not.equal(!1)},r.isNull=function(e,t){new n(e,t,r.isNull,!0).to.equal(null)},r.isNotNull=function(e,t){new n(e,t,r.isNotNull,!0).to.not.equal(null)},r.isNaN=function(e,t){new n(e,t,r.isNaN,!0).to.be.NaN},r.isNotNaN=function(e,t){new n(e,t,r.isNotNaN,!0).not.to.be.NaN},r.exists=function(e,t){new n(e,t,r.exists,!0).to.exist},r.notExists=function(e,t){new n(e,t,r.notExists,!0).to.not.exist},r.isUndefined=function(e,t){new n(e,t,r.isUndefined,!0).to.equal(void 0)},r.isDefined=function(e,t){new n(e,t,r.isDefined,!0).to.not.equal(void 0)},r.isFunction=function(e,t){new n(e,t,r.isFunction,!0).to.be.a("function")},r.isNotFunction=function(e,t){new n(e,t,r.isNotFunction,!0).to.not.be.a("function")},r.isObject=function(e,t){new n(e,t,r.isObject,!0).to.be.a("object")},r.isNotObject=function(e,t){new n(e,t,r.isNotObject,!0).to.not.be.a("object")},r.isArray=function(e,t){new n(e,t,r.isArray,!0).to.be.an("array")},r.isNotArray=function(e,t){new n(e,t,r.isNotArray,!0).to.not.be.an("array")},r.isString=function(e,t){new n(e,t,r.isString,!0).to.be.a("string")},r.isNotString=function(e,t){new n(e,t,r.isNotString,!0).to.not.be.a("string")},r.isNumber=function(e,t){new n(e,t,r.isNumber,!0).to.be.a("number")},r.isNotNumber=function(e,t){new n(e,t,r.isNotNumber,!0).to.not.be.a("number")},r.isFinite=function(e,t){new n(e,t,r.isFinite,!0).to.be.finite},r.isBoolean=function(e,t){new n(e,t,r.isBoolean,!0).to.be.a("boolean")},r.isNotBoolean=function(e,t){new n(e,t,r.isNotBoolean,!0).to.not.be.a("boolean")},r.typeOf=function(e,t,o){new n(e,o,r.typeOf,!0).to.be.a(t)},r.notTypeOf=function(e,t,o){new n(e,o,r.notTypeOf,!0).to.not.be.a(t)},r.instanceOf=function(e,t,o){new n(e,o,r.instanceOf,!0).to.be.instanceOf(t)},r.notInstanceOf=function(e,t,o){new n(e,o,r.notInstanceOf,!0).to.not.be.instanceOf(t)},r.include=function(e,t,o){new n(e,o,r.include,!0).include(t)},r.notInclude=function(e,t,o){new n(e,o,r.notInclude,!0).not.include(t)},r.deepInclude=function(e,t,o){new n(e,o,r.deepInclude,!0).deep.include(t)},r.notDeepInclude=function(e,t,o){new n(e,o,r.notDeepInclude,!0).not.deep.include(t)},r.nestedInclude=function(e,t,o){new n(e,o,r.nestedInclude,!0).nested.include(t)},r.notNestedInclude=function(e,t,o){new n(e,o,r.notNestedInclude,!0).not.nested.include(t)},r.deepNestedInclude=function(e,t,o){new n(e,o,r.deepNestedInclude,!0).deep.nested.include(t)},r.notDeepNestedInclude=function(e,t,o){new n(e,o,r.notDeepNestedInclude,!0).not.deep.nested.include(t)},r.ownInclude=function(e,t,o){new n(e,o,r.ownInclude,!0).own.include(t)},r.notOwnInclude=function(e,t,o){new n(e,o,r.notOwnInclude,!0).not.own.include(t)},r.deepOwnInclude=function(e,t,o){new n(e,o,r.deepOwnInclude,!0).deep.own.include(t)},r.notDeepOwnInclude=function(e,t,o){new n(e,o,r.notDeepOwnInclude,!0).not.deep.own.include(t)},r.match=function(e,t,o){new n(e,o,r.match,!0).to.match(t)},r.notMatch=function(e,t,o){new n(e,o,r.notMatch,!0).to.not.match(t)},r.property=function(e,t,o){new n(e,o,r.property,!0).to.have.property(t)},r.notProperty=function(e,t,o){new n(e,o,r.notProperty,!0).to.not.have.property(t)},r.propertyVal=function(e,t,o,a){new n(e,a,r.propertyVal,!0).to.have.property(t,o)},r.notPropertyVal=function(e,t,o,a){new n(e,a,r.notPropertyVal,!0).to.not.have.property(t,o)},r.deepPropertyVal=function(e,t,o,a){new n(e,a,r.deepPropertyVal,!0).to.have.deep.property(t,o)},r.notDeepPropertyVal=function(e,t,o,a){new n(e,a,r.notDeepPropertyVal,!0).to.not.have.deep.property(t,o)},r.ownProperty=function(e,t,o){new n(e,o,r.ownProperty,!0).to.have.own.property(t)},r.notOwnProperty=function(e,t,o){new n(e,o,r.notOwnProperty,!0).to.not.have.own.property(t)},r.ownPropertyVal=function(e,t,o,a){new n(e,a,r.ownPropertyVal,!0).to.have.own.property(t,o)},r.notOwnPropertyVal=function(e,t,o,a){new n(e,a,r.notOwnPropertyVal,!0).to.not.have.own.property(t,o)},r.deepOwnPropertyVal=function(e,t,o,a){new n(e,a,r.deepOwnPropertyVal,!0).to.have.deep.own.property(t,o)},r.notDeepOwnPropertyVal=function(e,t,o,a){new n(e,a,r.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(t,o)},r.nestedProperty=function(e,t,o){new n(e,o,r.nestedProperty,!0).to.have.nested.property(t)},r.notNestedProperty=function(e,t,o){new n(e,o,r.notNestedProperty,!0).to.not.have.nested.property(t)},r.nestedPropertyVal=function(e,t,o,a){new n(e,a,r.nestedPropertyVal,!0).to.have.nested.property(t,o)},r.notNestedPropertyVal=function(e,t,o,a){new n(e,a,r.notNestedPropertyVal,!0).to.not.have.nested.property(t,o)},r.deepNestedPropertyVal=function(e,t,o,a){new n(e,a,r.deepNestedPropertyVal,!0).to.have.deep.nested.property(t,o)},r.notDeepNestedPropertyVal=function(e,t,o,a){new n(e,a,r.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(t,o)},r.lengthOf=function(e,t,o){new n(e,o,r.lengthOf,!0).to.have.lengthOf(t)},r.hasAnyKeys=function(e,t,o){new n(e,o,r.hasAnyKeys,!0).to.have.any.keys(t)},r.hasAllKeys=function(e,t,o){new n(e,o,r.hasAllKeys,!0).to.have.all.keys(t)},r.containsAllKeys=function(e,t,o){new n(e,o,r.containsAllKeys,!0).to.contain.all.keys(t)},r.doesNotHaveAnyKeys=function(e,t,o){new n(e,o,r.doesNotHaveAnyKeys,!0).to.not.have.any.keys(t)},r.doesNotHaveAllKeys=function(e,t,o){new n(e,o,r.doesNotHaveAllKeys,!0).to.not.have.all.keys(t)},r.hasAnyDeepKeys=function(e,t,o){new n(e,o,r.hasAnyDeepKeys,!0).to.have.any.deep.keys(t)},r.hasAllDeepKeys=function(e,t,o){new n(e,o,r.hasAllDeepKeys,!0).to.have.all.deep.keys(t)},r.containsAllDeepKeys=function(e,t,o){new n(e,o,r.containsAllDeepKeys,!0).to.contain.all.deep.keys(t)},r.doesNotHaveAnyDeepKeys=function(e,t,o){new n(e,o,r.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(t)},r.doesNotHaveAllDeepKeys=function(e,t,o){new n(e,o,r.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(t)},r.throws=function(e,t,a,i){("string"==typeof t||t instanceof RegExp)&&(a=t,t=null);var s=new n(e,i,r.throws,!0).to.throw(t,a);return o(s,"object")},r.doesNotThrow=function(e,t,o,a){("string"==typeof t||t instanceof RegExp)&&(o=t,t=null),new n(e,a,r.doesNotThrow,!0).to.not.throw(t,o)},r.operator=function(a,i,s,c){var u;switch(i){case"==":u=a==s;break;case"===":u=a===s;break;case">":u=a>s;break;case">=":u=a>=s;break;case"<":u=a<s;break;case"<=":u=a<=s;break;case"!=":u=a!=s;break;case"!==":u=a!==s;break;default:throw c=c?c+": ":c,new e.AssertionError(c+'Invalid operator "'+i+'"',void 0,r.operator)}var l=new n(u,c,r.operator,!0);l.assert(!0===o(l,"object"),"expected "+t.inspect(a)+" to be "+i+" "+t.inspect(s),"expected "+t.inspect(a)+" to not be "+i+" "+t.inspect(s))},r.closeTo=function(e,t,o,a){new n(e,a,r.closeTo,!0).to.be.closeTo(t,o)},r.approximately=function(e,t,o,a){new n(e,a,r.approximately,!0).to.be.approximately(t,o)},r.sameMembers=function(e,t,o){new n(e,o,r.sameMembers,!0).to.have.same.members(t)},r.notSameMembers=function(e,t,o){new n(e,o,r.notSameMembers,!0).to.not.have.same.members(t)},r.sameDeepMembers=function(e,t,o){new n(e,o,r.sameDeepMembers,!0).to.have.same.deep.members(t)},r.notSameDeepMembers=function(e,t,o){new n(e,o,r.notSameDeepMembers,!0).to.not.have.same.deep.members(t)},r.sameOrderedMembers=function(e,t,o){new n(e,o,r.sameOrderedMembers,!0).to.have.same.ordered.members(t)},r.notSameOrderedMembers=function(e,t,o){new n(e,o,r.notSameOrderedMembers,!0).to.not.have.same.ordered.members(t)},r.sameDeepOrderedMembers=function(e,t,o){new n(e,o,r.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(t)},r.notSameDeepOrderedMembers=function(e,t,o){new n(e,o,r.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(t)},r.includeMembers=function(e,t,o){new n(e,o,r.includeMembers,!0).to.include.members(t)},r.notIncludeMembers=function(e,t,o){new n(e,o,r.notIncludeMembers,!0).to.not.include.members(t)},r.includeDeepMembers=function(e,t,o){new n(e,o,r.includeDeepMembers,!0).to.include.deep.members(t)},r.notIncludeDeepMembers=function(e,t,o){new n(e,o,r.notIncludeDeepMembers,!0).to.not.include.deep.members(t)},r.includeOrderedMembers=function(e,t,o){new n(e,o,r.includeOrderedMembers,!0).to.include.ordered.members(t)},r.notIncludeOrderedMembers=function(e,t,o){new n(e,o,r.notIncludeOrderedMembers,!0).to.not.include.ordered.members(t)},r.includeDeepOrderedMembers=function(e,t,o){new n(e,o,r.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(t)},r.notIncludeDeepOrderedMembers=function(e,t,o){new n(e,o,r.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(t)},r.oneOf=function(e,t,o){new n(e,o,r.oneOf,!0).to.be.oneOf(t)},r.changes=function(e,t,o,a){3===arguments.length&&"function"==typeof t&&(a=o,o=null),new n(e,a,r.changes,!0).to.change(t,o)},r.changesBy=function(e,t,o,a,i){if(4===arguments.length&&"function"==typeof t){var s=a;a=o,i=s}else 3===arguments.length&&(a=o,o=null);new n(e,i,r.changesBy,!0).to.change(t,o).by(a)},r.doesNotChange=function(e,t,o,a){return 3===arguments.length&&"function"==typeof t&&(a=o,o=null),new n(e,a,r.doesNotChange,!0).to.not.change(t,o)},r.changesButNotBy=function(e,t,o,a,i){if(4===arguments.length&&"function"==typeof t){var s=a;a=o,i=s}else 3===arguments.length&&(a=o,o=null);new n(e,i,r.changesButNotBy,!0).to.change(t,o).but.not.by(a)},r.increases=function(e,t,o,a){return 3===arguments.length&&"function"==typeof t&&(a=o,o=null),new n(e,a,r.increases,!0).to.increase(t,o)},r.increasesBy=function(e,t,o,a,i){if(4===arguments.length&&"function"==typeof t){var s=a;a=o,i=s}else 3===arguments.length&&(a=o,o=null);new n(e,i,r.increasesBy,!0).to.increase(t,o).by(a)},r.doesNotIncrease=function(e,t,o,a){return 3===arguments.length&&"function"==typeof t&&(a=o,o=null),new n(e,a,r.doesNotIncrease,!0).to.not.increase(t,o)},r.increasesButNotBy=function(e,t,o,a,i){if(4===arguments.length&&"function"==typeof t){var s=a;a=o,i=s}else 3===arguments.length&&(a=o,o=null);new n(e,i,r.increasesButNotBy,!0).to.increase(t,o).but.not.by(a)},r.decreases=function(e,t,o,a){return 3===arguments.length&&"function"==typeof t&&(a=o,o=null),new n(e,a,r.decreases,!0).to.decrease(t,o)},r.decreasesBy=function(e,t,o,a,i){if(4===arguments.length&&"function"==typeof t){var s=a;a=o,i=s}else 3===arguments.length&&(a=o,o=null);new n(e,i,r.decreasesBy,!0).to.decrease(t,o).by(a)},r.doesNotDecrease=function(e,t,o,a){return 3===arguments.length&&"function"==typeof t&&(a=o,o=null),new n(e,a,r.doesNotDecrease,!0).to.not.decrease(t,o)},r.doesNotDecreaseBy=function(e,t,o,a,i){if(4===arguments.length&&"function"==typeof t){var s=a;a=o,i=s}else 3===arguments.length&&(a=o,o=null);return new n(e,i,r.doesNotDecreaseBy,!0).to.not.decrease(t,o).by(a)},r.decreasesButNotBy=function(e,t,o,a,i){if(4===arguments.length&&"function"==typeof t){var s=a;a=o,i=s}else 3===arguments.length&&(a=o,o=null);new n(e,i,r.decreasesButNotBy,!0).to.decrease(t,o).but.not.by(a)},r.ifError=function(e){if(e)throw e},r.isExtensible=function(e,t){new n(e,t,r.isExtensible,!0).to.be.extensible},r.isNotExtensible=function(e,t){new n(e,t,r.isNotExtensible,!0).to.not.be.extensible},r.isSealed=function(e,t){new n(e,t,r.isSealed,!0).to.be.sealed},r.isNotSealed=function(e,t){new n(e,t,r.isNotSealed,!0).to.not.be.sealed},r.isFrozen=function(e,t){new n(e,t,r.isFrozen,!0).to.be.frozen},r.isNotFrozen=function(e,t){new n(e,t,r.isNotFrozen,!0).to.not.be.frozen},r.isEmpty=function(e,t){new n(e,t,r.isEmpty,!0).to.be.empty},r.isNotEmpty=function(e,t){new n(e,t,r.isNotEmpty,!0).to.not.be.empty},function e(t,n){return r[n]=r[t],e}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")("isEmpty","empty")("isNotEmpty","notEmpty")}},{}],25:[function(e,t,n){t.exports=function(e,t){e.expect=function(t,n){return new e.Assertion(t,n)},e.expect.fail=function(t,n,o,r){throw o=o||"expect.fail()",new e.AssertionError(o,{actual:t,expected:n,operator:r},e.expect.fail)}}},{}],26:[function(e,t,n){t.exports=function(e,t){function n(){function t(){return this instanceof String||this instanceof Number||this instanceof Boolean||"function"==typeof Symbol&&this instanceof Symbol?new o(this.valueOf(),null,t):new o(this,null,t)}function n(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:n,get:t,configurable:!0});var r={};return r.fail=function(t,n,o,a){throw o=o||"should.fail()",new e.AssertionError(o,{actual:t,expected:n,operator:a},r.fail)},r.equal=function(e,t,n){new o(e,n).to.equal(t)},r.Throw=function(e,t,n,r){new o(e,r).to.Throw(t,n)},r.exist=function(e,t){new o(e,t).to.exist},r.not={},r.not.equal=function(e,t,n){new o(e,n).to.not.equal(t)},r.not.Throw=function(e,t,n,r){new o(e,r).to.not.Throw(t,n)},r.not.exist=function(e,t){new o(e,t).to.not.exist},r.throw=r.Throw,r.not.throw=r.not.Throw,r}var o=e.Assertion;e.should=n,e.Should=n}},{}],27:[function(e,t,n){var o=e("./addLengthGuard"),r=e("../../chai"),a=e("./flag"),i=e("./proxify"),s=e("./transferFlags"),c="function"==typeof Object.setPrototypeOf,u=function(){},l=Object.getOwnPropertyNames(u).filter(function(e){var t=Object.getOwnPropertyDescriptor(u,e);return"object"!=typeof t||!t.configurable}),d=Function.prototype.call,h=Function.prototype.apply;t.exports=function(e,t,n,u){"function"!=typeof u&&(u=function(){});var p={method:n,chainingBehavior:u};e.__methods||(e.__methods={}),e.__methods[t]=p,Object.defineProperty(e,t,{get:function(){p.chainingBehavior.call(this);var n=function(){a(this,"lockSsfi")||a(this,"ssfi",n);var e=p.method.apply(this,arguments);if(void 0!==e)return e;var t=new r.Assertion;return s(this,t),t};if(o(n,t,!0),c){var u=Object.create(this);u.call=d,u.apply=h,Object.setPrototypeOf(n,u)}else Object.getOwnPropertyNames(e).forEach(function(t){if(-1===l.indexOf(t)){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o)}});return s(this,n),i(n)},configurable:!0})}},{"../../chai":20,"./addLengthGuard":28,"./flag":33,"./proxify":48,"./transferFlags":50}],28:[function(e,t,n){e("../config");var o=Object.getOwnPropertyDescriptor(function(){},"length");t.exports=function(e,t,n){return o.configurable?(Object.defineProperty(e,"length",{get:function(){if(n)throw Error("Invalid Chai property: "+t+'.length. Due to a compatibility issue, "length" cannot directly follow "'+t+'". Use "'+t+'.lengthOf" instead.');throw Error("Invalid Chai property: "+t+'.length. See docs for proper usage of "'+t+'".')}}),e):e}},{"../config":22}],29:[function(e,t,n){var o=e("./addLengthGuard"),r=e("../../chai"),a=e("./flag"),i=e("./proxify"),s=e("./transferFlags");t.exports=function(e,t,n){var c=function(){a(this,"lockSsfi")||a(this,"ssfi",c);var e=n.apply(this,arguments);if(void 0!==e)return e;var t=new r.Assertion;return s(this,t),t};o(c,t,!1),e[t]=i(c,t)}},{"../../chai":20,"./addLengthGuard":28,"./flag":33,"./proxify":48,"./transferFlags":50}],30:[function(e,t,n){var o=e("../../chai"),r=e("./flag"),a=e("./isProxyEnabled"),i=e("./transferFlags");t.exports=function(e,t,n){n=void 0===n?new Function:n,Object.defineProperty(e,t,{get:function e(){a()||r(this,"lockSsfi")||r(this,"ssfi",e);var t=n.call(this);if(void 0!==t)return t;var s=new o.Assertion;return i(this,s),s},configurable:!0})}},{"../../chai":20,"./flag":33,"./isProxyEnabled":43,"./transferFlags":50}],31:[function(e,t,n){var o=e("./inspect");t.exports=function(e,t){return o(e)<o(t)?-1:1}},{"./inspect":41}],32:[function(e,t,n){var o=e("assertion-error"),r=e("./flag"),a=e("type-detect");t.exports=function(e,t,n){var i=r(e,"message");i=i?i+": ":"",e=r(e,"object"),(t=t.map(function(e){return e.toLowerCase()})).sort();var s=t.map(function(e,n){var o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an":"a";return(t.length>1&&n===t.length-1?"or ":"")+o+" "+e}).join(", "),c=a(e).toLowerCase();if(!t.some(function(e){return c===e}))throw new o(i+"object tested must be "+s+", but "+c+" given",void 0,n)}},{"./flag":33,"assertion-error":16,"type-detect":53}],33:[function(e,t,n){t.exports=function(e,t,n){var o=e.__flags||(e.__flags=Object.create(null));if(3!==arguments.length)return o[t];o[t]=n}},{}],34:[function(e,t,n){t.exports=function(e,t){return t.length>4?t[4]:e._obj}},{}],35:[function(e,t,n){t.exports=function(e){var t=[];for(var n in e)t.push(n);return t}},{}],36:[function(e,t,n){var o=e("./flag"),r=e("./getActual"),a=(e("./inspect"),e("./objDisplay"));t.exports=function(e,t){var n=o(e,"negate"),i=o(e,"object"),s=t[3],c=r(e,t),u=n?t[2]:t[1],l=o(e,"message");return"function"==typeof u&&(u=u()),u=u||"",u=u.replace(/#\{this\}/g,function(){return a(i)}).replace(/#\{act\}/g,function(){return a(c)}).replace(/#\{exp\}/g,function(){return a(s)}),l?l+": "+u:u}},{"./flag":33,"./getActual":34,"./inspect":41,"./objDisplay":44}],37:[function(e,t,n){var o=e("./getOwnEnumerablePropertySymbols");t.exports=function(e){return Object.keys(e).concat(o(e))}},{"./getOwnEnumerablePropertySymbols":38}],38:[function(e,t,n){t.exports=function(e){return"function"!=typeof Object.getOwnPropertySymbols?[]:Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})}},{}],39:[function(e,t,n){t.exports=function(e){function t(e){-1===n.indexOf(e)&&n.push(e)}for(var n=Object.getOwnPropertyNames(e),o=Object.getPrototypeOf(e);null!==o;)Object.getOwnPropertyNames(o).forEach(t),o=Object.getPrototypeOf(o);return n}},{}],40:[function(e,t,n){var o=e("pathval");n.test=e("./test"),n.type=e("type-detect"),n.expectTypes=e("./expectTypes"),n.getMessage=e("./getMessage"),n.getActual=e("./getActual"),n.inspect=e("./inspect"),n.objDisplay=e("./objDisplay"),n.flag=e("./flag"),n.transferFlags=e("./transferFlags"),n.eql=e("deep-eql"),n.getPathInfo=o.getPathInfo,n.hasProperty=o.hasProperty,n.getName=e("get-func-name"),n.addProperty=e("./addProperty"),n.addMethod=e("./addMethod"),n.overwriteProperty=e("./overwriteProperty"),n.overwriteMethod=e("./overwriteMethod"),n.addChainableMethod=e("./addChainableMethod"),n.overwriteChainableMethod=e("./overwriteChainableMethod"),n.compareByInspect=e("./compareByInspect"),n.getOwnEnumerablePropertySymbols=e("./getOwnEnumerablePropertySymbols"),n.getOwnEnumerableProperties=e("./getOwnEnumerableProperties"),n.checkError=e("check-error"),n.proxify=e("./proxify"),n.addLengthGuard=e("./addLengthGuard"),n.isProxyEnabled=e("./isProxyEnabled"),n.isNaN=e("./isNaN")},{"./addChainableMethod":27,"./addLengthGuard":28,"./addMethod":29,"./addProperty":30,"./compareByInspect":31,"./expectTypes":32,"./flag":33,"./getActual":34,"./getMessage":36,"./getOwnEnumerableProperties":37,"./getOwnEnumerablePropertySymbols":38,"./inspect":41,"./isNaN":42,"./isProxyEnabled":43,"./objDisplay":44,"./overwriteChainableMethod":45,"./overwriteMethod":46,"./overwriteProperty":47,"./proxify":48,"./test":49,"./transferFlags":50,"check-error":54,"deep-eql":51,"get-func-name":56,pathval:59,"type-detect":53}],41:[function(e,t,n){function o(e,t,n,o){return r({showHidden:t,seen:[],stylize:function(e){return e}},e,void 0===n?2:n)}function r(e,t,o){if(t&&"function"==typeof t.inspect&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var y=t.inspect(o,e);return"string"!=typeof y&&(y=r(e,y,o)),y}var m=a(e,t);if(m)return m;if(S(t)){if("outerHTML"in t)return t.outerHTML;try{if(document.xmlVersion)return(new XMLSerializer).serializeToString(t);var x=document.createElementNS("http://www.w3.org/1999/xhtml","_");return x.appendChild(t.cloneNode(!1)),html=x.innerHTML.replace("><",">"+t.innerHTML+"<"),x.innerHTML="",html}catch(e){}}var N,q,A=g(t),O=e.showHidden?v(t):A;if(0===O.length||b(t)&&(1===O.length&&"stack"===O[0]||2===O.length&&"description"===O[0]&&"stack"===O[1])){if("function"==typeof t)return N=w(t),q=N?": "+N:"",e.stylize("[Function"+q+"]","special");if(p(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(f(t))return e.stylize(Date.prototype.toUTCString.call(t),"date");if(b(t))return i(t)}var P="",k=!1,T=!1,D=["{","}"];if(d(t)&&(T=!0,D=["[","]"]),h(t)&&(k=!0,D=["[","]"]),"function"==typeof t&&(P=" [Function"+(q=(N=w(t))?": "+N:"")+"]"),p(t)&&(P=" "+RegExp.prototype.toString.call(t)),f(t)&&(P=" "+Date.prototype.toUTCString.call(t)),b(t))return i(t);if(0===O.length&&(!k||0==t.length))return D[0]+P+D[1];if(o<0)return p(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var C;if(k)C=s(e,t,o,A,O);else{if(T)return c(t);C=O.map(function(n){return u(e,t,o,A,n,k)})}return e.seen.pop(),l(C,P,D)}function a(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string");case"number":return 0===t&&1/t==-1/0?e.stylize("-0","number"):e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean");case"symbol":return e.stylize(t.toString(),"symbol")}if(null===t)return e.stylize("null","null")}function i(e){return"["+Error.prototype.toString.call(e)+"]"}function s(e,t,n,o,r){for(var a=[],i=0,s=t.length;i<s;++i)Object.prototype.hasOwnProperty.call(t,String(i))?a.push(u(e,t,n,o,String(i),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(u(e,t,n,o,r,!0))}),a}function c(e){for(var t="[ ",n=0;n<e.length;++n){if(t.length>=m.truncateThreshold-7){t+="...";break}t+=e[n]+", "}return-1!==(t+=" ]").indexOf(",  ]")&&(t=t.replace(",  ]"," ]")),t}function u(e,t,n,o,a,i){var s,c,u=Object.getOwnPropertyDescriptor(t,a);if(u&&(u.get?c=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(c=e.stylize("[Setter]","special"))),o.indexOf(a)<0&&(s="["+a+"]"),c||(e.seen.indexOf(t[a])<0?(c=null===n?r(e,t[a],null):r(e,t[a],n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n")):c=e.stylize("[Circular]","special")),void 0===s){if(i&&a.match(/^\d+$/))return c;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+c}function l(e,t,n){var o=0;return e.reduce(function(e,t){return o++,t.indexOf("\n")>=0&&o++,e+t.length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return"object"==typeof e&&/\w+Array]$/.test(y(e))}function h(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===y(e)}function p(e){return"object"==typeof e&&"[object RegExp]"===y(e)}function f(e){return"object"==typeof e&&"[object Date]"===y(e)}function b(e){return"object"==typeof e&&"[object Error]"===y(e)}function y(e){return Object.prototype.toString.call(e)}var w=e("get-func-name"),v=e("./getProperties"),g=e("./getEnumerableProperties"),m=e("../config");t.exports=o;var S=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&"nodeType"in e&&1===e.nodeType&&"string"==typeof e.nodeName}},{"../config":22,"./getEnumerableProperties":35,"./getProperties":39,"get-func-name":56}],42:[function(e,t,n){function o(e){return e!==e}t.exports=Number.isNaN||o},{}],43:[function(e,t,n){var o=e("../config");t.exports=function(){return o.useProxy&&"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect}},{"../config":22}],44:[function(e,t,n){var o=e("./inspect"),r=e("../config");t.exports=function(e){var t=o(e),n=Object.prototype.toString.call(e);if(r.truncateThreshold&&t.length>=r.truncateThreshold){if("[object Function]"===n)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+e.length+") ]";if("[object Object]"===n){var a=Object.keys(e);return"{ Object ("+(a.length>2?a.splice(0,2).join(", ")+", ...":a.join(", "))+") }"}return t}return t}},{"../config":22,"./inspect":41}],45:[function(e,t,n){var o=e("../../chai"),r=e("./transferFlags");t.exports=function(e,t,n,a){var i=e.__methods[t],s=i.chainingBehavior;i.chainingBehavior=function(){var e=a(s).call(this);if(void 0!==e)return e;var t=new o.Assertion;return r(this,t),t};var c=i.method;i.method=function(){var e=n(c).apply(this,arguments);if(void 0!==e)return e;var t=new o.Assertion;return r(this,t),t}}},{"../../chai":20,"./transferFlags":50}],46:[function(e,t,n){var o=e("./addLengthGuard"),r=e("../../chai"),a=e("./flag"),i=e("./proxify"),s=e("./transferFlags");t.exports=function(e,t,n){var c=e[t],u=function(){throw new Error(t+" is not a function")};c&&"function"==typeof c&&(u=c);var l=function(){a(this,"lockSsfi")||a(this,"ssfi",l);var e=a(this,"lockSsfi");a(this,"lockSsfi",!0);var t=n(u).apply(this,arguments);if(a(this,"lockSsfi",e),void 0!==t)return t;var o=new r.Assertion;return s(this,o),o};o(l,t,!1),e[t]=i(l,t)}},{"../../chai":20,"./addLengthGuard":28,"./flag":33,"./proxify":48,"./transferFlags":50}],47:[function(e,t,n){var o=e("../../chai"),r=e("./flag"),a=e("./isProxyEnabled"),i=e("./transferFlags");t.exports=function(e,t,n){var s=Object.getOwnPropertyDescriptor(e,t),c=function(){};s&&"function"==typeof s.get&&(c=s.get),Object.defineProperty(e,t,{get:function e(){a()||r(this,"lockSsfi")||r(this,"ssfi",e);var t=r(this,"lockSsfi");r(this,"lockSsfi",!0);var s=n(c).call(this);if(r(this,"lockSsfi",t),void 0!==s)return s;var u=new o.Assertion;return i(this,u),u},configurable:!0})}},{"../../chai":20,"./flag":33,"./isProxyEnabled":43,"./transferFlags":50}],48:[function(e,t,n){function o(e,t,n){if(!n){n=[];for(var r=0;r<=e.length;r++)n[r]=[]}return n[e.length]&&n[e.length][t.length]||(0===e.length||0===t.length?n[e.length][t.length]=Math.max(e.length,t.length):n[e.length][t.length]=Math.min(o(e.slice(0,-1),t,n)+1,o(e,t.slice(0,-1),n)+1,o(e.slice(0,-1),t.slice(0,-1),n)+(e.slice(-1)===t.slice(-1)?0:1))),n[e.length][t.length]}var r=e("../config"),a=e("./flag"),i=e("./getProperties"),s=e("./isProxyEnabled"),c=["__flags","__methods","_obj","assert"];t.exports=function(e,t){return s()?new Proxy(e,{get:function e(n,s){if("string"==typeof s&&-1===r.proxyExcludedKeys.indexOf(s)&&!Reflect.has(n,s)){if(t)throw Error("Invalid Chai property: "+t+"."+s+'. See docs for proper usage of "'+t+'".');var u=i(n).filter(function(e){return!Object.prototype.hasOwnProperty(e)&&-1===c.indexOf(e)}).sort(function(e,t){return o(s,e)-o(s,t)});throw u.length&&o(u[0],s)<4?Error("Invalid Chai property: "+s+'. Did you mean "'+u[0]+'"?'):Error("Invalid Chai property: "+s)}return-1!==c.indexOf(s)||a(n,"lockSsfi")||a(n,"ssfi",e),Reflect.get(n,s)}}):e}},{"../config":22,"./flag":33,"./getProperties":39,"./isProxyEnabled":43}],49:[function(e,t,n){var o=e("./flag");t.exports=function(e,t){var n=o(e,"negate"),r=t[0];return n?!r:r}},{"./flag":33}],50:[function(e,t,n){t.exports=function(e,t,n){var o=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),n=3!==arguments.length||n;for(var r in o)(n||"object"!==r&&"ssfi"!==r&&"lockSsfi"!==r&&"message"!=r)&&(t.__flags[r]=o[r])}},{}],51:[function(e,t,n){"use strict";function o(){this.clear()}function r(e,t,n){if(!n||m(e)||m(t))return null;var o=n.get(e);if(o){var r=o.get(t);if("boolean"==typeof r)return r}return null}function a(e,t,n,o){if(n&&!m(e)&&!m(t)){var r=n.get(e);r?r.set(t,o):((r=new x).set(t,o),n.set(e,r))}}function i(e,t,n){if(n&&n.comparator)return c(e,t,n);var o=s(e,t);return null!==o?o:c(e,t,n)}function s(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t||!m(e)&&!m(t)&&null}function c(e,t,n){(n=n||{}).memoize=!1!==n.memoize&&(n.memoize||new x);var o=n&&n.comparator,i=r(e,t,n.memoize);if(null!==i)return i;var c=r(t,e,n.memoize);if(null!==c)return c;if(o){var l=o(e,t);if(!1===l||!0===l)return a(e,t,n.memoize,l),l;var d=s(e,t);if(null!==d)return d}var h=S(e);if(h!==S(t))return a(e,t,n.memoize,!1),!1;a(e,t,n.memoize,!0);var p=u(e,t,h,n);return a(e,t,n.memoize,p),p}function u(e,t,n,o){switch(n){case"String":case"Number":case"Boolean":case"Date":return i(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":case"Error":return e===t;case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return h(e,t,o);case"RegExp":return l(e,t);case"Generator":return p(e,t,o);case"DataView":return h(new Uint8Array(e.buffer),new Uint8Array(t.buffer),o);case"ArrayBuffer":return h(new Uint8Array(e),new Uint8Array(t),o);case"Set":case"Map":return d(e,t,o);default:return g(e,t,o)}}function l(e,t){return e.toString()===t.toString()}function d(e,t,n){if(e.size!==t.size)return!1;if(0===e.size)return!0;var o=[],r=[];return e.forEach(function(e,t){o.push([e,t])}),t.forEach(function(e,t){r.push([e,t])}),h(o.sort(),r.sort(),n)}function h(e,t,n){var o=e.length;if(o!==t.length)return!1;if(0===o)return!0;for(var r=-1;++r<o;)if(!1===i(e[r],t[r],n))return!1;return!0}function p(e,t,n){return h(y(e),y(t),n)}function f(e){return"undefined"!=typeof Symbol&&"object"==typeof e&&void 0!==Symbol.iterator&&"function"==typeof e[Symbol.iterator]}function b(e){if(f(e))try{return y(e[Symbol.iterator]())}catch(e){return[]}return[]}function y(e){for(var t=e.next(),n=[t.value];!1===t.done;)t=e.next(),n.push(t.value);return n}function w(e){var t=[];for(var n in e)t.push(n);return t}function v(e,t,n,o){var r=n.length;if(0===r)return!0;for(var a=0;a<r;a+=1)if(!1===i(e[n[a]],t[n[a]],o))return!1;return!0}function g(e,t,n){var o=w(e),r=w(t);if(o.length&&o.length===r.length)return o.sort(),r.sort(),!1!==h(o,r)&&v(e,t,o,n);var a=b(e),i=b(t);return a.length&&a.length===i.length?(a.sort(),i.sort(),h(a,i,n)):0===o.length&&0===a.length&&0===r.length&&0===i.length}function m(e){return null===e||"object"!=typeof e}var S=e("type-detect");o.prototype={clear:function(){return this.keys=[],this.values=[],this},set:function(e,t){var n=this.keys.indexOf(e);return n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},get:function(e){return this.values[this.keys.indexOf(e)]},delete:function(e){var t=this.keys.indexOf(e);return t>=0&&(this.values=this.values.slice(0,t).concat(this.values.slice(t+1)),this.keys=this.keys.slice(0,t).concat(this.keys.slice(t+1))),this}};var x=null;x="function"==typeof WeakMap?WeakMap:o,t.exports=i,t.exports.MemoizeMap=x},{"type-detect":52}],52:[function(e,t,n){(function(e){"use strict";var n="function"==typeof Object.getPrototypeOf,o="function"==typeof Promise,r="undefined"!=typeof window?window:void 0!==e?e:self,a="location"in r&&"document"in r,i="undefined"!=typeof HTMLElement,s="function"==typeof Array.isArray,c="undefined"!=typeof Symbol,u="undefined"!=typeof Map,l="undefined"!=typeof Set,d="undefined"!=typeof WeakMap,h="undefined"!=typeof WeakSet,p="undefined"!=typeof DataView,f=c&&void 0!==Symbol.iterator,b=c&&void 0!==Symbol.toStringTag,y=l&&"function"==typeof Set.prototype.entries,w=u&&"function"==typeof Map.prototype.entries,v=n&&y&&Object.getPrototypeOf((new Set).entries()),g=n&&w&&Object.getPrototypeOf((new Map).entries()),m=f&&"function"==typeof Array.prototype[Symbol.iterator],S=m&&Object.getPrototypeOf([][Symbol.iterator]()),x=f&&"function"==typeof Array.prototype[Symbol.iterator],N=x&&Object.getPrototypeOf(""[Symbol.iterator]());t.exports=function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===r)return"global";if(s&&Array.isArray(e))return"Array";if(a){if(e===r.location)return"Location";if(e===r.document)return"Document";if(e===(r.navigator||{}).mimeTypes)return"MimeTypeArray";if(e===(r.navigator||{}).plugins)return"PluginArray";if(i&&e instanceof HTMLElement&&"BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if(i&&e instanceof HTMLElement&&"TD"===e.tagName)return"HTMLTableDataCellElement";if(i&&e instanceof HTMLElement&&"TH"===e.tagName)return"HTMLTableHeaderCellElement"}var c=b&&e[Symbol.toStringTag];if("string"==typeof c)return c;if(n){var f=Object.getPrototypeOf(e);if(f===RegExp.prototype)return"RegExp";if(f===Date.prototype)return"Date";if(o&&f===Promise.prototype)return"Promise";if(l&&f===Set.prototype)return"Set";if(u&&f===Map.prototype)return"Map";if(h&&f===WeakSet.prototype)return"WeakSet";if(d&&f===WeakMap.prototype)return"WeakMap";if(p&&f===DataView.prototype)return"DataView";if(u&&f===g)return"Map Iterator";if(l&&f===v)return"Set Iterator";if(m&&f===S)return"Array Iterator";if(x&&f===N)return"String Iterator";if(null===f)return"Object"}return Object.prototype.toString.call(e).slice(8,-1)},t.exports.typeDetect=t.exports}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(e,t,n){(function(e){"use strict";var n="function"==typeof Promise,o="undefined"!=typeof window?window:void 0!==e?e:self,r="location"in o&&"document"in o,a="undefined"!=typeof Symbol,i="undefined"!=typeof Map,s="undefined"!=typeof Set,c="undefined"!=typeof WeakMap,u="undefined"!=typeof WeakSet,l="undefined"!=typeof DataView,d=a&&void 0!==Symbol.iterator,h=a&&void 0!==Symbol.toStringTag,p=s&&"function"==typeof Set.prototype.entries,f=i&&"function"==typeof Map.prototype.entries,b=p&&Object.getPrototypeOf((new Set).entries()),y=f&&Object.getPrototypeOf((new Map).entries()),w=d&&"function"==typeof Array.prototype[Symbol.iterator],v=w&&Object.getPrototypeOf([][Symbol.iterator]()),g=d&&"function"==typeof String.prototype[Symbol.iterator],m=g&&Object.getPrototypeOf(""[Symbol.iterator]());t.exports=function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===o)return"global";if(Array.isArray(e)&&(!1===h||!(Symbol.toStringTag in e)))return"Array";if(r){if(e===o.location)return"Location";if(e===o.document)return"Document";if(e===(o.navigator||{}).mimeTypes)return"MimeTypeArray";if(e===(o.navigator||{}).plugins)return"PluginArray";if(e instanceof HTMLElement&&"BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if(e instanceof HTMLElement&&"TD"===e.tagName)return"HTMLTableDataCellElement";if(e instanceof HTMLElement&&"TH"===e.tagName)return"HTMLTableHeaderCellElement"}var a=h&&e[Symbol.toStringTag];if("string"==typeof a)return a;var d=Object.getPrototypeOf(e);return d===RegExp.prototype?"RegExp":d===Date.prototype?"Date":n&&d===Promise.prototype?"Promise":s&&d===Set.prototype?"Set":i&&d===Map.prototype?"Map":u&&d===WeakSet.prototype?"WeakSet":c&&d===WeakMap.prototype?"WeakMap":l&&d===DataView.prototype?"DataView":i&&d===y?"Map Iterator":s&&d===b?"Set Iterator":w&&d===v?"Array Iterator":g&&d===m?"String Iterator":null===d?"Object":Object.prototype.toString.call(e).slice(8,-1)},t.exports.typeDetect=t.exports}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],54:[function(e,t,n){"use strict";function o(e,t){return t instanceof Error&&e===t}function r(e,t){return t instanceof Error?e.constructor===t.constructor||e instanceof t.constructor:(t.prototype instanceof Error||t===Error)&&(e.constructor===t||e instanceof t)}function a(e,t){var n="string"==typeof e?e:e.message;return t instanceof RegExp?t.test(n):"string"==typeof t&&-1!==n.indexOf(t)}function i(e){var t="";if(void 0===e.name){var n=String(e).match(u);n&&(t=n[1])}else t=e.name;return t}function s(e){var t=e;return e instanceof Error?t=i(e.constructor):"function"==typeof e&&(t=i(e).trim()||i(new e)),t}function c(e){var t="";return e&&e.message?t=e.message:"string"==typeof e&&(t=e),t}var u=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\(\/]+)/;t.exports={compatibleInstance:o,compatibleConstructor:r,compatibleMessage:a,getMessage:c,getConstructorName:s}},{}],55:[function(e,t,n){function o(e){var t,n,o=e.length,a=new Uint8Array(o);for(r(a);o>1;)t=a[o-1]%o,n=e[--o],e[o]=e[t],e[t]=n;return e}var r=e("get-random-values");t.exports=o},{"get-random-values":57}],56:[function(e,t,n){"use strict";function o(e){if("function"!=typeof e)return null;var t="";if(void 0===Function.prototype.name&&void 0===e.name){var n=r.call(e).match(a);n&&(t=n[1])}else t=e.name;return t}var r=Function.prototype.toString,a=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;t.exports=o},{}],57:[function(e,t,n){function o(e){if(r.crypto&&r.crypto.getRandomValues)return r.crypto.getRandomValues(e);if("object"==typeof r.msCrypto&&"function"==typeof r.msCrypto.getRandomValues)return r.msCrypto.getRandomValues(e);if(a.randomBytes){if(!(e instanceof Uint8Array))throw new TypeError("expected Uint8Array");if(e.length>65536){var t=new Error;throw t.code=22,t.message="Failed to execute 'getRandomValues' on 'Crypto': The ArrayBufferView's byte length ("+e.length+") exceeds the number of bytes of entropy available via this API (65536).",t.name="QuotaExceededError",t}var n=a.randomBytes(e.length);return e.set(n),e}throw new Error("No secure random number generator available.")}var r=e("global/window"),a=e("crypto");t.exports=o},{crypto:17,"global/window":58}],58:[function(e,t,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,n){"use strict";function o(e,t){return void 0!==e&&null!==e&&t in Object(e)}function r(e){return e.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map(function(e){var t=/^\[(\d+)\]$/.exec(e);return t?{i:parseFloat(t[1])}:{p:e.replace(/\\([.\[\]])/g,"$1")}})}function a(e,t,n){var o=e,r=null;n=void 0===n?t.length:n;for(var a=0;a<n;a++){var i=t[a];o&&(o=void 0===i.p?o[i.i]:o[i.p],a===n-1&&(r=o))}return r}function i(e,t,n){for(var o=e,r=n.length,a=null,i=0;i<r;i++){var s=null,c=null;if(a=n[i],i===r-1)o[s=void 0===a.p?a.i:a.p]=t;else if(void 0!==a.p&&o[a.p])o=o[a.p];else if(void 0!==a.i&&o[a.i])o=o[a.i];else{var u=n[i+1];s=void 0===a.p?a.i:a.p,c=void 0===u.p?[]:{},o[s]=c,o=o[s]}}}function s(e,t){var n=r(t),i=n[n.length-1],s={parent:n.length>1?a(e,n,n.length-1):e,name:i.p||i.i,value:a(e,n)};return s.exists=o(s.parent,s.name),s}function c(e,t){return s(e,t).value}function u(e,t,n){return i(e,n,r(t)),e}t.exports={hasProperty:o,getPathInfo:s,getPathValue:c,setPathValue:u}},{}],60:[function(e,t,n){"use strict";var o=e("../").Auction,r=e("../").seat,a=e("../").bid,i=e("chai").expect;describe("Auction",function(){it("should have a dealer",function(){i(new o(r.north).dealer).to.equal(r.north)}),it("should have the bidding history",function(){i(new o(r.north).bids).to.be.a("array")}),it("should be closed with 3 passes after a bid",function(){var e=new o(r.south);i(e.isClosed()).equal(!1),e.bid(["-","-","-"]),i(e.isClosed()).equal(!1),e.bid("-"),i(e.isClosed()).equal(!0),(e=new o(r.south)).bid(["1S","-","-","-"]),i(e.isClosed()).equal(!0)}),it("should be convertable to a string",function(){var e=new o(r.south);e.bid(["-","Pass","1NT","X","-","-","-"]),i(e.toString()).equal("- - 1NT X - - -")}),it("should be convertable from a string",function(){var e=new o(r.south,"");i(e.bids.length).equal(0),e=new o(r.south,"  Pass -    1NT     X     -    -    -      "),i(e.bids.length).equal(7),i(e.toString()).equal("- - 1NT X - - -")}),describe("Bidding",function(){it("should allow adding a Bid object or a string",function(){var e=new o(r.south);e.bid(a["1S"]),e.bid("2C"),i(e.bids.length).equal(2),i(e.bids[0]).to.equal(a["1S"]),i(e.bids[1]).to.equal(a["2C"])}),it("should allow adding an array of Bid object or a string",function(){var e=new o(r.south);e.bid([a["1S"],"2C"]),i(e.bids.length).equal(2),i(e.bids[0]).to.equal(a["1S"]),i(e.bids[1]).to.equal(a["2C"])}),it("should allow mulitple bids",function(){var e=new o(r.south);e.bid(a["1C"],"1S","-","-","-"),i(e.bids.length).equal(5),i(e.bids[0]).to.equal(a["1C"]),i(e.bids[1]).to.equal(a["1S"]),i(e.isClosed()).to.equal(!0)}),it("should allow a pass",function(){var e=new o(r.south);e.bid(a.pass),i(e.bids.length).equal(1)}),it("should throw on insufficient bid",function(){var e=new o(r.south);e.bid("1S"),e.bid("2C"),i(function(){e.bid("1D")}).to.throw("Insufficient bid"),i(e.bids.length).equal(2)}),it("should throw when auction is closed",function(){var e=new o(r.south);e.bid(["1S","-","-","-"]),i(function(){e.bid("4S")}).to.throw("Bidding not allowed, auction is closed")}),it("should return the Bid object",function(){var e=new o(r.south);i(e.bid("1S")).to.equal(a["1S"])})}),describe("Doubling",function(){it("should allow a rho double",function(){var e=new o(r.south);e.bid(["1C","X"]),i(e.bids.length).equal(2)}),it("should allow a lho double",function(){var e=new o(r.south);e.bid(["1C","-","-","X"]),i(e.bids.length).equal(4)}),it("should allow declarors partner to bid after a double",function(){var e=new o(r.south);e.bid("1C","X","1S"),i(e.contract().toString()).equal("1S by N")}),it("should allow declaror to bid after a double",function(){var e=new o(r.south);e.bid("1C","X","-","-","1S"),i(e.contract().toString()).equal("1S by S")}),it("should throw when doubling partner",function(){var e=new o(r.south);i(function(){e.bid(["1C","-","X"])}).to.throw("Doubling your partner is not allowed")}),it("should throw when opposition is already at risk",function(){var e=new o(r.south);i(function(){e.bid(["1C","X","-","X"])}).to.throw("Opposition is already at risk")}),it("should throw when opposition has no contract",function(){var e=new o(r.south);i(function(){e.bid(["X"])}).to.throw("Cannot double when opposition has no contract"),e=new o(r.south),i(function(){e.bid(["-","X"])}).to.throw("Cannot double when opposition has no contract"),e=new o(r.south),i(function(){e.bid(["-","-","-","X"])}).to.throw("Cannot double when opposition has no contract")})}),describe("Redoubling",function(){it("should allow partner to redouble a doubled contract",function(){var e=new o(r.south);e.bid("1C","X","XX","-","-","-"),i(e.contract().toString()).equal("1CXX by S")}),it("should allow declaror to redouble a doubled contract",function(){var e=new o(r.south);e.bid("1C","X","-","-","XX"),i(e.contract().toString()).equal("1CXX by S"),(e=new o(r.south)).bid("1C","-","-","X","XX"),i(e.contract().toString()).equal("1CXX by S")}),it("should throw on all other cases",function(){var e=new o(r.south);i(function(){e.bid(["XX"])}).to.throw("Invalid bid"),e=new o(r.south),i(function(){e.bid(["1C","XX"])}).to.throw("Invalid bid"),e=new o(r.south),i(function(){e.bid(["1C","-","XX"])}).to.throw("Invalid bid"),e=new o(r.south),i(function(){e.bid(["1C","-","-","XX"])}).to.throw("Invalid bid"),e=new o(r.south),i(function(){e.bid(["1C","X","-","XX"])}).to.throw("Invalid bid"),e=new o(r.south),i(function(){e.bid(["1C","X","1S","XX"])}).to.throw("Invalid bid"),e=new o(r.south),i(function(){e.bid(["1C","X","1S","-","XX"])}).to.throw("Invalid bid")})}),describe("Next seat to bid",function(){it("should be dealer with no bidding",function(){var e=new o(r.south);i(e.nextSeatToBid()).to.equal(r.south)}),it("should be null when auction is closed",function(){var e=new o(r.south);e.bid("1C","1S","-","-","-"),i(e.nextSeatToBid()).to.equal(null)}),it("should follow the bidding from the dealer",function(){var e=new o(r.south);e.bid("1C","1S","-","-","X"),i(e.nextSeatToBid()).to.equal(r.west)})}),describe("Contract",function(){it("should have level and denomination equal to the last bid",function(){var e=new o(r.south);e.bid("1C","1S","-","-","-");var t=e.contract();i(t.level).to.equal(1),i(t.denomination).to.equal("S")}),it('should have risk "X" when last bid is doubled',function(){var e=new o(r.south);e.bid("1C"),i(e.contract().risk).equal(""),e.bid("X"),i(e.contract().risk).equal("X"),e.bid("-"),i(e.contract().risk).equal("X"),e.bid("1S"),i(e.contract().risk).equal("")}),it('should have risk "XX" when last bid is redoubled',function(){var e=new o(r.south);e.bid("1C","X"),i(e.contract().risk).equal("X"),e.bid("XX"),i(e.contract().risk).equal("XX"),e.bid("-"),i(e.contract().risk).equal("XX"),e.bid("1S"),i(e.contract().risk).equal("")}),it("should have declaror equal to first partner to bid the denomination",function(){var e=new o(r.south);e.bid("1C","2C","-","5C"),i(e.contract().declaror).equal(r.west)})})})},{"../":1,chai:19}],61:[function(e,t,n){"use strict";var o=e("../"),r=e("chai").expect;describe("Bid",function(){it("has level and denonimation",function(){var e=o.bid["1NT"];r(e.level).to.equal(1),r(e.denomination).to.equal("NT"),e=o.bid["7S"],r(e.level).to.equal(7),r(e.denomination).to.equal("S")}),it("can be pass",function(){var e=o.bid["-"];r(e.isPass).equal(!0)}),it("can be double",function(){var e=o.bid.X;r(e.isDouble).equal(!0)}),it("can be redouble",function(){var e=o.bid.XX;r(e.isRedouble).equal(!0)}),it("has suit color",function(){r(o.bid["1C"].isRed).equal(!1),r(o.bid["1D"].isRed).equal(!0),r(o.bid["1H"].isRed).equal(!0),r(o.bid["1S"].isRed).equal(!1)}),it("is ordered by denomination within level",function(){var e=o.bid["1C"],t=o.bid["1D"],n=o.bid["1H"],a=o.bid["1S"],i=o.bid["1NT"];r(e.order).below(t.order),r(t.order).below(n.order),r(n.order).below(a.order),r(a.order).below(i.order)}),it("is ordered by level",function(){r(o.bid["1C"].order).below(o.bid["2C"].order),r(o.bid["2C"].order).below(o.bid["3C"].order),r(o.bid["3C"].order).below(o.bid["4C"].order),r(o.bid["4C"].order).below(o.bid["5C"].order),r(o.bid["5C"].order).below(o.bid["6C"].order),r(o.bid["6C"].order).below(o.bid["7C"].order)}),it("1C is lowest",function(){r(o.bid["1C"].order).to.equal(1)}),it("7NT is highest",function(){r(o.bid["7NT"].order).to.equal(35)}),it("string representation is the bid",function(){r(o.bid["3D"].toString()).to.equal("3D"),r(o.bid.pass.toString()).to.equal("-"),r(o.bid.double.toString()).to.equal("X"),r(o.bid.redouble.toString()).to.equal("XX")})})},{"../":1,chai:19}],62:[function(e,t,n){"use strict";var o=e("../").Board,r=e("../").Hand,a=e("../").seat,i=e("chai").expect;describe("Board",function(){it("should have a dealer",function(){var e=new o;e.dealer=a.south,i(e.dealer).to.equal(a.south)}),it("should have vulnerability Nil",function(){var e=new o;e.dealer=a.south,e.vulnerability="Nil",i(e.isVulnerable(a.north)).to.equal(!1),i(e.isVulnerable(a.south)).to.equal(!1),i(e.isVulnerable(a.east)).to.equal(!1),i(e.isVulnerable(a.west)).to.equal(!1)}),it("should have vulnerability All",function(){var e=new o;e.dealer=a.south,e.vulnerability="All",i(e.isVulnerable(a.north)).to.equal(!0),i(e.isVulnerable(a.south)).to.equal(!0),i(e.isVulnerable(a.east)).to.equal(!0),i(e.isVulnerable(a.west)).to.equal(!0)}),it("should have vulnerability NS",function(){var e=new o;e.dealer=a.south,e.vulnerability="NS",i(e.isVulnerable(a.north)).to.equal(!0),i(e.isVulnerable(a.south)).to.equal(!0),i(e.isVulnerable(a.east)).to.equal(!1),i(e.isVulnerable(a.west)).to.equal(!1)}),it("should have vulnerability EW",function(){var e=new o;e.dealer=a.south,e.vulnerability="EW",i(e.isVulnerable(a.north)).to.equal(!1),i(e.isVulnerable(a.south)).to.equal(!1),i(e.isVulnerable(a.east)).to.equal(!0),i(e.isVulnerable(a.west)).to.equal(!0)}),it("should have hand for each seat",function(){var e=new o;i(e).has.property("hands").and.be.instanceof(Object),i(e.hands).has.property(a.north).and.instanceOf(r),i(e.hands).has.property(a.south).and.instanceOf(r),i(e.hands).has.property(a.east).and.instanceOf(r),i(e.hands).has.property(a.west).and.instanceOf(r)}),it("should calculate dealer from the board number",function(){var e=new o;i(e.setNumber(1).dealer).equal(a.north),i(e.setNumber(2).dealer).equal(a.east),i(e.setNumber(3).dealer).equal(a.south),i(e.setNumber(4).dealer).equal(a.west),i(e.setNumber(5).dealer).equal(a.north),i(e.setNumber(6).dealer).equal(a.east),i(e.setNumber(7).dealer).equal(a.south),i(e.setNumber(8).dealer).equal(a.west)}),it("should calculate vulnerability from the board number",function(){var e=new o;i(e.setNumber(1).vulnerability).equal("Nil"),i(e.setNumber(2).vulnerability).equal("NS"),i(e.setNumber(3).vulnerability).equal("EW"),i(e.setNumber(4).vulnerability).equal("All"),i(e.setNumber(5).vulnerability).equal("NS"),i(e.setNumber(6).vulnerability).equal("EW"),i(e.setNumber(7).vulnerability).equal("All"),i(e.setNumber(8).vulnerability).equal("Nil"),i(e.setNumber(9).vulnerability).equal("EW"),i(e.setNumber(10).vulnerability).equal("All"),i(e.setNumber(11).vulnerability).equal("Nil"),i(e.setNumber(12).vulnerability).equal("NS"),i(e.setNumber(13).vulnerability).equal("All"),i(e.setNumber(14).vulnerability).equal("Nil"),i(e.setNumber(15).vulnerability).equal("NS"),i(e.setNumber(16).vulnerability).equal("EW"),i(e.setNumber(17).vulnerability).equal("Nil")}),it("should have a deal as PBN",function(){var e=new o;e.setNumber(1),e.hands[a.north]=r.parsePBN("A843.QJ6.K.A6542"),e.hands[a.east]=r.parsePBN("KQ9752.K74.8742."),e.hands[a.south]=r.parsePBN("T.A93.QT93.KJ873"),e.hands[a.west]=r.parsePBN("J6.T852.AJ65.QT9"),i(e.deal()).to.equal("N:A843.QJ6.K.A6542 KQ9752.K74.8742. T.A93.QT93.KJ873 J6.T852.AJ65.QT9")}),it("should return a deal as PBN",function(){var e=new o;e.setNumber(1),e.deal("N:A843.QJ6.K.A6542 KQ9752.K74.8742. T.A93.QT93.KJ873 J6.T852.AJ65.QT9"),i(e.hands[a.north].toPBN()).to.equal("A843.QJ6.K.A6542"),i(e.hands[a.east].toPBN()).to.equal("KQ9752.K74.8742."),i(e.hands[a.south].toPBN()).to.equal("T.A93.QT93.KJ873"),i(e.hands[a.west].toPBN()).to.equal("J6.T852.AJ65.QT9"),i(e.deal()).to.equal("N:A843.QJ6.K.A6542 KQ9752.K74.8742. T.A93.QT93.KJ873 J6.T852.AJ65.QT9")})})},{"../":1,chai:19}],63:[function(e,t,n){"use strict";var o=e("../"),r=e("chai").expect;describe("Card",function(){it("has rank and suit",function(){var e=o.card["2S"];r(e.rank).to.equal("2"),r(e.suit).to.equal("S")}),it("string form is rank and suit",function(){var e=o.card["2S"];r(e.toString()).to.equal("2S")}),it("rank can be 10 or T",function(){var e=o.card["10S"];r(e.rank).to.equal("T"),r(e.suit).to.equal("S"),e=o.card.TS,r(e.rank).to.equal("T"),r(e.suit).to.equal("S")}),it("is ordered by suit",function(){var e=o.card.AC,t=o.card.AD,n=o.card.AH,a=o.card.AS;r(e.order).below(t.order),r(t.order).below(n.order),r(n.order).below(a.order)}),it("is ordered by rank within suit",function(){var e=o.card["2S"],t=o.card["3S"],n=o.card["4S"],a=o.card["5S"],i=o.card["6S"],s=o.card["7S"],c=o.card["8S"],u=o.card["9S"],l=o.card.TS,d=o.card.JS,h=o.card.QS,p=o.card.KS,f=o.card.AS;r(e.order).below(t.order),r(t.order).below(n.order),r(n.order).below(a.order),r(a.order).below(i.order),r(i.order).below(s.order),r(s.order).below(c.order),r(c.order).below(u.order),r(u.order).below(l.order),r(l.order).below(d.order),r(d.order).below(h.order),r(h.order).below(p.order),r(p.order).below(f.order)}),it("2C is lowest",function(){var e=o.card["2C"];r(e.order).to.equal(1)}),it("AS is highest",function(){var e=o.card.AS;r(e.order).to.equal(52)}),it("has an SVG image",function(){o.card.imagePath("foobar/"),r(o.card.AS.imageUrl()).to.contain("foobar/AS.svg")})})},{"../":1,chai:19}],64:[function(e,t,n){t.exports=e("chai")},{chai:19}],65:[function(e,t,n){"use strict";var o=e("../").Competition,r=e("chai").expect;describe("Competition",function(){it("should have a name",function(){var e=new o;r(e).to.have.property("name").that.is.a("string")})})},{"../":1,chai:19}],66:[function(e,t,n){"use strict";var o=e("../"),r=e("chai").expect;describe("Contract",function(){it("should default to passed in",function(){var e=new o.Contract;r(e.toString()).to.equal("-"),r(e.level).to.equal(0),r(e.isPassedIn()).to.equal(!0)}),it("should have the level, denomination, risk and declaror",function(){var e=new o.Contract;e.level=3,e.denomination="NT",e.declaror=o.seat.south,e.risk="X",r(e.toString()).to.equal("3NTX by S"),r(e.isPassedIn()).to.equal(!1)}),it("should have a dummy",function(){var e=new o.Contract;e.level=3,e.denomination="NT",e.declaror=o.seat.south,e.risk="X",r(e.dummy()).to.equal(o.seat.north)}),it("should have a undefined dummy",function(){var e=new o.Contract;r(e.dummy()).to.equal(void 0)}),it("should have a leader",function(){var e=new o.Contract;e.level=3,e.denomination="NT",e.declaror=o.seat.south,e.risk="X",r(e.leader()).to.equal(o.seat.west)}),it("should have a undefined leader",function(){var e=new o.Contract;r(e.leader()).to.equal(void 0)}),it("should have opponents",function(){var e=new o.Contract;e.level=3,e.denomination="NT",e.declaror=o.seat.south,e.risk="X",r(e.isOpponent(o.seat.north)).to.equal(!1),r(e.isOpponent(o.seat.south)).to.equal(!1),r(e.isOpponent(o.seat.east)).to.equal(!0),r(e.isOpponent(o.seat.west)).to.equal(!0)})})},{"../":1,chai:19}],67:[function(e,t,n){"use strict";var o=e("../"),r=o.seat,a=e("chai").expect;describe("Deck",function(){it("has 52 cards",function(){var e=new o.Deck;a(e.cards.length).to.equal(52)}),it("ordered from lowest to highest",function(){var e=new o.Deck;a(e.cards[0]).to.equal(o.card.C2),a(e.cards[51]).to.equal(o.card.SA)}),it("can be shuffled but NOT tested",function(){var e=(new o.Deck).shuffle();a(e.cards.length).to.equal(52);for(var t=0;t<52;++t)a(e.cards[t]).to.exist})}),describe("Dealt deck",function(){it("each player has 13 cards",function(){var e=(new o.Deck).shuffle().deal(r.west);a(e[r.north].cards.length).to.equal(13),a(e[r.south].cards.length).to.equal(13),a(e[r.east].cards.length).to.equal(13),a(e[r.west].cards.length).to.equal(13)})})},{"../":1,chai:19}],68:[function(e,t,n){"use strict";var o=e(".."),r=o.Game,a=e("chai").expect;describe("Game",function(){it("should have an auction",function(){var e=new r;a(e).to.have.property("auction")}),it("should have a contract",function(){var e=new r;a(e).to.have.property("contract")}),it("should have played tricks",function(){var e=new r;a(e).to.have.property("tricks")}),it("should have a lead",function(){var e=new r;e.contract.level=3,e.contract.denomination="NT",e.contract.declaror=o.seat.south,e.play("AS"),e.play("2S"),a(e.lead()).to.equal(o.card.SA)}),describe("play",function(){it("should allow an opening lead",function(){var e=new r;e.contract.level=3,e.contract.denomination="NT",e.contract.declaror=o.seat.south,e.play("AS"),a(e.tricks).to.have.length(1),a(e.tricks[0].leader()).to.equal(o.seat.west)}),it("should return next seat to play",function(){var e=new r;e.contract.level=3,e.contract.denomination="NT",e.contract.declaror=o.seat.south;var t=e.play("AS","2S");a(t).to.equal(o.seat.east)}),it("should return next seat as winner of a trick",function(){var e=new r;e.contract.level=3,e.contract.denomination="NT",e.contract.declaror=o.seat.south;var t=e.play("2S","AS","3S","4S");a(t).to.equal(o.seat.north)}),it("should create new tricks",function(){var e=new r;e.contract.level=3,e.contract.denomination="NT",e.contract.declaror=o.seat.south;e.play("2S","AS","3S","4S","KS","5S");a(e.tricks).to.have.length(2),a(e.tricks[1].play[0].card).to.equal(o.card.SK),a(e.tricks[1].play[0].seat).to.equal(o.seat.north),a(e.tricks[1].play[1].card).to.equal(o.card.S5),a(e.tricks[1].play[1].seat).to.equal(o.seat.east),a(e.tricks[1].leader()).to.equal(o.seat.north)}),it("should allow string or Card",function(){var e=new r;e.contract.level=3,e.contract.denomination="NT",e.contract.declaror=o.seat.south,e.play("AS",o.card.S2),a(e.tricks[0].play[0].card).to.equal(o.card.SA),a(e.tricks[0].play[1].card).to.equal(o.card.S2)}),it("should return an array of cards",function(){var e=new r;e.contract.level=3,e.contract.denomination="NT",e.contract.declaror=o.seat.south,e.play("AS",o.card.S2);var t=e.play();a(t).to.have.length(2).and.eql([o.card.SA,o.card.S2])})})})},{"..":1,chai:19}],69:[function(e,t,n){"use strict";var o=e("../"),r=o.card,a=e("chai").expect;describe("Hand",function(){it("sorts by descending order",function(){var e=new o.Hand;e.cards.push(r.CA),e.cards.push(r.DA),e.cards.push(r.HA),e.cards.push(r.SA),e.sort(),a(e.cards[0]).to.equal(r.SA),a(e.cards[1]).to.equal(r.HA),a(e.cards[2]).to.equal(r.DA),a(e.cards[3]).to.equal(r.CA)}),it("string representation is the cards",function(){var e=new o.Hand;e.cards.push(r.CA),e.cards.push(r.DA),e.cards.push(r.HA),e.cards.push(r.SA),e.sort(),a(e.toString()).to.equal("AS AH AD AC")}),it("cards can be filter by suit",function(){var e=new o.Hand;e.cards.push(r.CA),e.cards.push(r.SK),e.cards.push(r.DA),e.cards.push(r.HA),e.cards.push(r.SA);var t=e.sort().cardsWithSuit("S");a(t[0]).to.equal(r.SA),a(t[1]).to.equal(r.SK)}),it("produce PBN",function(){var e=new o.Hand;e.cards.push(r.C5),e.cards.push(r.C8),e.cards.push(r.D2),e.cards.push(r.D4),e.cards.push(r.D5),e.cards.push(r.D6),e.cards.push(r.DJ),e.cards.push(r.HT),e.cards.push(r.HA),e.cards.push(r.S2),e.cards.push(r.ST),e.cards.push(r.SQ),e.cards.push(r.SK);var t=e.toPBN();a(t).to.equal("KQT2.AT.J6542.85")}),it("produce PBN with missing leading suit",function(){var e=new o.Hand;e.cards.push(r.C5),e.cards.push(r.C8),e.cards.push(r.D2),e.cards.push(r.D4),e.cards.push(r.D5),e.cards.push(r.D6),e.cards.push(r.DJ),e.cards.push(r.HT),e.cards.push(r.HA),e.cards.push(r.C2),e.cards.push(r.CT),e.cards.push(r.CQ),e.cards.push(r.CK);var t=e.toPBN();a(t).to.equal(".AT.J6542.KQT852")}),it("produce PBN with missing internal suit",function(){var e=new o.Hand;e.cards.push(r.C5),e.cards.push(r.C8),e.cards.push(r.D2),e.cards.push(r.D4),e.cards.push(r.D5),e.cards.push(r.D6),e.cards.push(r.DJ),e.cards.push(r.CT),e.cards.push(r.CA),e.cards.push(r.S2),e.cards.push(r.ST),e.cards.push(r.SQ),e.cards.push(r.SK);var t=e.toPBN();a(t).to.equal("KQT2..J6542.AT85")}),it("produce PBN with missing trailing suits",function(){var e=new o.Hand;e.cards.push(r.S5),e.cards.push(r.S8),e.cards.push(r.H2),e.cards.push(r.H4),e.cards.push(r.H5),e.cards.push(r.H6),e.cards.push(r.HJ),e.cards.push(r.HT),e.cards.push(r.HA),e.cards.push(r.S2),e.cards.push(r.ST),e.cards.push(r.SQ),e.cards.push(r.SK);var t=e.toPBN();a(t).to.equal("KQT852.AJT6542..")}),it("produce PBN with only one suit",function(){var e=new o.Hand;e.cards.push(r.H2),e.cards.push(r.H3),e.cards.push(r.H4),e.cards.push(r.H5),e.cards.push(r.H6),e.cards.push(r.H7),e.cards.push(r.H8),e.cards.push(r.H9),e.cards.push(r.HT),e.cards.push(r.HJ),e.cards.push(r.HQ),e.cards.push(r.HK),e.cards.push(r.HA);var t=e.toPBN();a(t).to.equal(".AKQJT98765432..")}),it("produce PBN with no cards",function(){var e=(new o.Hand).toPBN();a(e).to.equal("-")}),it("should parse a PBN hand",function(){var e=o.Hand.parsePBN("AKQJT.9876.543.2");a(e.cards.length).to.equal(13),a(e.toPBN()).to.equal("AKQJT.9876.543.2")}),it("should parse an empty PBN hand",function(){var e=o.Hand.parsePBN("-");a(e.cards.length).to.equal(0)}),it("should throw on bad PBN hand",function(){a(o.Hand.parsePBN.bind(o.Hand,"AKQJT")).to.throw("All four suits must be declared.")}),it("should calculate high card points",function(){var e=o.Hand.parsePBN("A432.K432.QJ3.JT");a(e.hcp()).equal(11)})})},{"../":1,chai:19}],70:[function(e,t,n){"use strict";var o=e("../"),r=(o.card,o.seat),a=o.pbn,i=o.Hand,s=e("chai").expect;describe("PBN",function(){it("should export hands as a deal",function(){var e={};e[r.north]=i.parsePBN("A843.QJ6.K.A6542"),e[r.east]=i.parsePBN("KQ9752.K74.8742."),e[r.south]=i.parsePBN("T.A93.QT93.KJ873"),e[r.west]=i.parsePBN("J6.T852.AJ65.QT9");var t=a.exportDeal(e,r.east);s(t).to.equal("E:KQ9752.K74.8742. T.A93.QT93.KJ873 J6.T852.AJ65.QT9 A843.QJ6.K.A6542")}),it("should import a deal as hands",function(){var e=a.importDeal("E:KQ9752.K74.8742. T.A93.QT93.KJ873 J6.T852.AJ65.QT9 A843.QJ6.K.A6542");s(e[r.north].toPBN()).to.equal("A843.QJ6.K.A6542"),s(e[r.south].toPBN()).to.equal("T.A93.QT93.KJ873"),s(e[r.east].toPBN()).to.equal("KQ9752.K74.8742."),s(e[r.west].toPBN()).to.equal("J6.T852.AJ65.QT9")})})},{"../":1,chai:19}],71:[function(e,t,n){"use strict";var o=e("../").seat,r=e("chai").expect;describe("Seat",function(){it("has 4 seats N, S, E and W",function(){r(o.north).to.exist,r(o.south).to.exist,r(o.east).to.exist,r(o.west).to.exist,r(o.north.symbol).to.equal("N"),r(o.south.symbol).to.equal("S"),r(o.east.symbol).to.equal("E"),r(o.west.symbol).to.equal("W"),r(o.north).to.equal(o.N),r(o.south).to.equal(o.S),r(o.east).to.equal(o.E),r(o.west).to.equal(o.W)}),it("partner is directly opposite",function(){r(o.north.partner).to.equal(o.south),r(o.south.partner).to.equal(o.north),r(o.east.partner).to.equal(o.west),r(o.west.partner).to.equal(o.east)}),it("has right hand opponent",function(){r(o.north.rho).to.equal(o.west),r(o.south.rho).to.equal(o.east),r(o.east.rho).to.equal(o.north),r(o.west.rho).to.equal(o.south)}),it("has left hand opponent",function(){r(o.north.lho).to.equal(o.east),r(o.south.lho).to.equal(o.west),r(o.east.lho).to.equal(o.south),r(o.west.lho).to.equal(o.north)}),it("string representation is the name",function(){r(o.north.toString()).to.equal("north")}),it("has a symbol",function(){r(o.north.symbol).to.equal("N"),r(o.south.symbol).to.equal("S"),r(o.east.symbol).to.equal("E"),r(o.west.symbol).to.equal("W")}),it("should measure the clockwise distance between seats",function(){var e=o.west;r(o.distance(e,o.west)).to.equal(0),r(o.distance(e,o.north)).to.equal(1),r(o.distance(e,o.east)).to.equal(2),r(o.distance(e,o.south)).to.equal(3)})})},{"../":1,chai:19}],72:[function(e,t,n){"use strict";var o=e("../").Session,r=e("../").Competition,a=e("../").Hand,i=e("../").card,s=e("../").seat,c=e("chai").expect,u=e("fs");describe("Session",function(){it("should be part of a competition",function(){var e=new o;c(e).to.have.property("competition").that.is.instanceof(r)}),it("should have a site",function(){var e=new o;c(e).to.have.property("site").that.is.a("string")}),it("should have a date",function(){var e=new o;c(e).to.have.property("date").that.is.a("string")}),it("should have boards",function(){var e=new o;c(e).to.have.property("boards").that.is.instanceof(Array)}),it("should have games",function(){var e=new o;c(e).to.have.property("games").that.is.instanceof(Array)}),0!==Object.getOwnPropertyNames(u).length&&(describe("import PBN",function(){it("should return a new Session",function(e){var t=u.createReadStream("./test/sample/Schiphol.pbn");o.importPbn(t,function(t,n){c(n).is.instanceof(o),e()})}),it("should return an Error",function(e){o.importPbn("[Session test]",function(t){c(t).is.instanceof(Error),e()})}),it("should process mandatory tags",function(e){var t=u.createReadStream("./test/sample/Schiphol.pbn");o.importPbn(t,function(t,n){if(t)return e(t);c(n.competition).to.have.property("name","International Amsterdam Airport Schiphol Bridgetournament"),c(n).to.have.property("site","Amsterdam, The Netherlands NLD"),c(n).to.have.property("date","1995.06.10"),c(n).to.have.property("boards").of.length(1),c(n.boards[0]).to.have.property("dealer",s.north),c(n.boards[0]).to.have.property("vulnerability","Nil"),c(n.boards[0]).to.have.property("hands"),c(n.boards[0].hands).to.have.property(s.north),c(n.boards[0].hands).to.have.property(s.south),c(n.boards[0].hands).to.have.property(s.east),c(n.boards[0].hands).to.have.property(s.west),c(n.boards[0].hands[s.north].cards.toString()).to.equal("6H,3H,AD,KD,QD,9D,8D,7D,AC,9C,7C,3C,2C"),c(n.boards[0].hands[s.west].cards.toString()).to.equal("KS,QS,TS,2S,AH,TH,JD,6D,5D,4D,2D,8C,5C"),c(n.boards[0].deal()).to.equal("N:.63.AKQ987.A9732 A8654.KQ5.T.QJT6 J973.J98742.3.K4 KQT2.AT.J6542.85"),c(n).to.have.property("games").of.length(1),c(n.games[0].auction).to.have.property("dealer",s.north),c(n.games[0].players).to.have.property(s.north,"Westra"),c(n.games[0].players).to.have.property(s.south,"Leufkens"),c(n.games[0].players).to.have.property(s.east,"Kalish"),c(n.games[0].players).to.have.property(s.west,"Podgor"),c(n.games[0].contract.toString()).to.equal("5HX by S"),c(n.games[0].lead()).to.equal(i.SK),c(n.games[0].made).to.equal(-2),e()})}),it("should process board records only",function(e){var t=u.createReadStream("./test/sample/Hand_Trophy_Pairs.pbn");o.importPbn(t,function(t,n){if(t)return e(t);c(n.competition).to.have.property("name","160816TuE"),c(n).to.have.property("site",""),c(n).to.have.property("date","2016.08.16"),c(n).to.have.property("boards").of.length(26),c(n).to.have.property("games").of.length(0),c(n.boards[22]).to.have.property("dealer",s.south),c(n.boards[22]).to.have.property("vulnerability","All"),e()})}),it('should ignore tags with value "?"',function(e){var t=u.createReadStream("./test/sample/kgb.pbn");o.importPbn(t,function(t,n){if(t)return e(t);c(n.competition).to.have.property("name",""),c(n).to.have.property("site",""),c(n).to.have.property("date",""),c(n).to.have.property("boards").of.length(99),c(n).to.have.property("games").of.length(0),e()})}),it("should process Auction section",function(e){var t=u.createReadStream("./test/sample/Schiphol.pbn");o.importPbn(t,function(t,n){if(t)return e(t);c(n).to.have.property("games").of.length(1);var o=n.games[0].auction;c(o).to.have.property("dealer",s.north),c(o.isClosed()).to.equal(!0),c(o.contract().toString()).to.equal("5HX by S"),e()})}),it("should process Play section",function(e){var t=u.createReadStream("./test/sample/Schiphol.pbn");o.importPbn(t,function(t,n){if(t)return e(t);c(n).to.have.property("games").of.length(1),c(n.games[0]).to.have.property("tricks").of.length(7);var o=n.games[0].tricks;c(o[0].leader().symbol).to.equal("W"),c(o[1].leader().symbol).to.equal("N"),e()})}),it("should process multiple board definitions",function(e){var t=u.createReadStream("./test/sample/AlsReg6-Final.pbn");o.importPbn(t,function(t,n){c(t).to.equal(null),c(n).to.be.instanceof(o),c(n.boards[0].deal()).to.equal("N:AJ4.T7.AT652.KJ2 K73.A985432.Q9.7 985..KJ84.AQT654 QT62.KQJ6.73.983"),e()})})}),describe("import PBN with a promise",function(){it("should then return a new Session",function(e){var t=u.createReadStream("./test/sample/AlsReg6-Final.pbn");o.importPbn(t).then(function(t){c(t).is.instanceof(o),e()}).catch(e)}),it("should catch error",function(e){o.importPbn("[Session test]").then(function(t){e("did not reject")}).catch(function(t){c(t).is.instanceof(Error),e()})})})),it("should generate boards",function(){var e=o.generateBoards(16);c(e).to.have.property("boards").that.has.length(16);for(var t=0;t<16;++t){var n=e.boards[t];c(n.hands).has.property(s.north).and.instanceOf(a).and.has.property("cards").and.has.lengthOf(13),c(n.hands).has.property(s.south).and.instanceOf(a).and.has.property("cards").and.has.lengthOf(13),c(n.hands).has.property(s.east).and.instanceOf(a).and.has.property("cards").and.has.lengthOf(13),c(n.hands).has.property(s.west).and.instanceOf(a).and.has.property("cards").and.has.lengthOf(13)}})})},{"../":1,chai:19,fs:18}],73:[function(e,t,n){"use strict";var o=e("../"),r=o.seat,a=e("chai").expect;describe("Trick",function(){it("leader is 1st to play a card",function(){var e=new o.Trick;a(e.leader()).to.be.undefined,e.play.push({seat:r.west}),a(e.leader()).to.equal(r.west),e.play.push({seat:r.east}),a(e.leader()).to.equal(r.west)}),it("leader suit is the suit 1st card played",function(){var e=new o.Trick;a(e.leaderSuit()).to.be.undefined,e.play.push({seat:r.north,card:o.card.S2}),a(e.leaderSuit()).to.equal("S")}),it("lead is the 1st card played",function(){var e=new o.Trick;a(e.lead()).to.be.undefined,e.play.push({seat:r.north,card:o.card.S2}),a(e.lead()).to.equal(o.card.S2)}),it("winner is declared after 4 cards are played",function(){var e=new o.Contract;e.denomination="NT";var t=new o.Trick;a(t.winner()).to.be.undefined,t.play.push({seat:r.north,card:o.card.S2}),t.play.push({seat:r.east,card:o.card.SK}),t.play.push({seat:r.south,card:o.card.HA}),t.play.push({seat:r.west,card:o.card.S3}),a(t.winner(e)).to.exist}),it("winner has the highest rank of the 1st suit played",function(){var e=new o.Contract;e.denomination="NT";var t=new o.Trick;a(t.winner()).to.be.undefined,t.play.push({seat:r.north,card:o.card.H3}),t.play.push({seat:r.east,card:o.card.HK}),t.play.push({seat:r.south,card:o.card.SA}),t.play.push({seat:r.west,card:o.card.H2}),a(t.winner(e)).to.equal(r.east)}),it("winner has the highest trump",function(){var e=new o.Contract;e.denomination="H";var t=new o.Trick;a(t.winner()).to.be.undefined,t.play.push({seat:r.north,card:o.card.SA}),t.play.push({seat:r.east,card:o.card.HQ}),t.play.push({seat:r.south,card:o.card.HK}),t.play.push({seat:r.west,card:o.card.S2}),a(t.winner(e)).to.equal(r.south)}),it("should return the card played by a seat",function(){var e=new o.Trick;a(e.card(r.north)).to.be.undefined,a(e.card(r.east)).to.be.undefined,a(e.card(r.south)).to.be.undefined,a(e.card(r.west)).to.be.undefined,e.play.push({seat:r.west,card:o.card.SA}),a(e.card(r.north)).to.be.undefined,a(e.card(r.east)).to.be.undefined,a(e.card(r.south)).to.be.undefined,a(e.card(r.west)).to.equal(o.card.SA),e.play.push({seat:r.north,card:o.card.S2}),a(e.card(r.north)).to.equal(o.card.S2),a(e.card(r.east)).to.be.undefined,a(e.card(r.south)).to.be.undefined,a(e.card(r.west)).to.equal(o.card.SA)})})},{"../":1,chai:19}]},{},[60,61,62,63,64,65,66,67,68,69,70,71,72,73])(73)});